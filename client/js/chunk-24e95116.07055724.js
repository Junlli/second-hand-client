(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24e95116"],{e172:function(t,e,n){},ee5b:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"buy"},[n("div",{staticClass:"unbuy",staticStyle:{display:"none"}},[n("span",{staticClass:"unbuy-letter"},[t._v("您还没有购买商品呢！您可以")]),n("router-link",{attrs:{to:"/"}},[n("Button",{attrs:{type:"success"}},[t._v("浏览商品")])],1)],1),n("div",{staticClass:"order"},[n("Tabs",{attrs:{type:"card"}},[n("TabPane",{attrs:{label:"所有订单"}},[n("Table",{ref:"currentRowTable",attrs:{"highlight-row":"",columns:t.columns1,data:t.data1}})],1),n("TabPane",{attrs:{label:"未发货"}},[n("Table",{ref:"currentRowTable",attrs:{"highlight-row":"",columns:t.columns2,data:t.data2}})],1),n("TabPane",{attrs:{label:"已发货"}},[n("Table",{ref:"currentRowTable",attrs:{"highlight-row":"",columns:t.columns3,data:t.data3}})],1),n("TabPane",{attrs:{label:"成功的订单"}},[n("Table",{ref:"currentRowTable",attrs:{"highlight-row":"",columns:t.columns4,data:t.data4}})],1),n("TabPane",{attrs:{label:"关闭的订单"}},[n("Table",{ref:"currentRowTable",attrs:{"highlight-row":"",columns:t.columns5,data:t.data5}})],1)],1)],1)])},r=[],a={data:function(){return{b_id:"",unsendApiData:"",columns1:[],data1:[],columns2:[],data2:[],columns3:[],data3:[],columns4:[],data4:[],columns5:[],data5:[]}},methods:{remove1:function(t){this.data1.splice(t,1)},remove2:function(t){this.data2.splice(t,1)},getUserInfo:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(e){t.b_id=e.data._id,t.getAllOrders(),t.getUnsend(),t.getSended(),t.getSuccessOrder(),t.getClosedOrder()})},orderUpdate:function(t,e,n,i,r){var a=this;this.$api.post(this.$SERVER.POST_ORDERUPDATE,{id:t.row._id,o_state:e}).then(function(t){a.$api(a.$SERVER.GET_ORDERLIST,{params:{s_id:a.u_id,o_state:n,o_del:i}}).then(function(t){t.data.list})})},getAllOrders:function(){var t=this;this.$api(this.$SERVER.GET_ORDERLIST,{params:{b_id:this.b_id,o_del:!1}}).then(function(e){t.data1=e.data.list,console.log(t.data1);for(var n=0;n<t.data1.length;n++)t.columns1=[{title:"下单时间",align:"center",width:105,render:function(t,e){return t("span",e.row.create_date)}},{title:"商品",align:"center",key:"name",width:270,render:function(e,n){return e("div",[e("img",{attrs:{src:t.$SERVER.FILEURL+n.row.commodity.c_images[0]},style:{display:"block",width:"40px",height:"40px",marginTop:"10px",float:"left"}}),e("a",{style:{display:"block",marginLeft:"50px",height:"40px",textAlign:"left",paddingTop:"10px"},on:{click:function(){t.$router.push({name:"detail",params:{id:n.row.c_id}})}}},n.row.commodity.c_title),e("span",{style:{display:"block",width:"200px",marginLeft:"50px",textAlign:"left",marginTop:"-5px"}},"id:"+n.row.commodity._id)])}},{title:"单价",align:"center",width:100,render:function(t,e){return t("span",e.row.o_price/100)}},{title:"数量",align:"center",render:function(t,e){return t("span",e.row.o_num)}},{title:"实付款",align:"center",render:function(t,e){return t("span",{style:{color:"#f00"}},e.row.o_price/100*e.row.o_num)}},{title:"卖家",align:"center",render:function(e,n){return e("a",{on:{click:function(){t.$router.push({name:"userInfo",params:{id:n.row.s_id}})}}},n.row.s_name)}},{title:"操作",align:"center",key:"action",render:function(e,n){return 1===n.row.o_state?e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$api.post(t.$SERVER.POST_ORDERUPDATE,{id:n.row._id,o_state:0}).then(function(e){t.$api(t.$SERVER.GET_ORDERLIST,{params:{s_id:t.u_id,o_state:1,o_del:!1}}).then(function(e){t.data1=e.data.list})})}}},"取消订单")]):2===n.row.o_state?e("div",[e("Button",{props:{type:"primary",size:"large"},style:{marginRight:"5px"},on:{click:function(){t.$api.post(t.$SERVER.POST_ORDERUPDATE,{id:n.row._id,o_state:3}).then(function(e){t.$api(t.$SERVER.GET_ORDERLIST,{params:{s_id:t.u_id,o_state:2}}).then(function(e){t.data3=e.data.list})})}}},"确认收货")]):3===n.row.o_state?e("Button",{props:{type:"primary",size:"large"},style:{marginRight:"5px"},on:{click:function(){}}},"评价"):0===n.row.o_state?e("div",[e("Button",{props:{type:"error",size:"large"},style:{marginRight:"5px"},on:{click:function(){t.$api.post(t.$SERVER.POST_ORDERUPDATE,{id:n.row._id,o_del:!0}).then(function(e){t.$api(t.$SERVER.GET_ORDERLIST,{params:{s_id:t.u_id,o_state:0,o_del:!1}}).then(function(e){console.log(e),t.data5=e.data.list})})}}},"删除")]):void 0}}]})},getUnsend:function(){var t=this;this.$api(this.$SERVER.GET_ORDERLIST,{params:{b_id:this.b_id,o_state:1,o_del:!1}}).then(function(e){t.data2=e.data.list;for(var n=0;n<t.data2.length;n++)t.columns2=[{title:"下单时间",align:"center",width:105,render:function(t,e){return t("span",e.row.create_date)}},{title:"商品",align:"center",key:"name",width:270,render:function(e,n){return e("div",[e("img",{attrs:{src:t.$SERVER.FILEURL+n.row.commodity.c_images[0]},style:{display:"block",width:"40px",height:"40px",marginTop:"10px",float:"left"}}),e("a",{style:{display:"block",marginLeft:"50px",height:"40px",textAlign:"left",paddingTop:"10px"},on:{click:function(){t.$router.push({name:"detail",params:{id:n.row.c_id}})}}},n.row.commodity.c_title),e("span",{style:{display:"block",width:"200px",marginLeft:"50px",textAlign:"left",marginTop:"-5px"}},"id:"+n.row.commodity._id)])}},{title:"单价",align:"center",width:100,render:function(t,e){return t("span",e.row.o_price/100)}},{title:"数量",align:"center",render:function(t,e){return t("span",e.row.o_num)}},{title:"实付款",align:"center",render:function(t,e){return t("span",{style:{color:"#f00"}},e.row.o_price/100*e.row.o_num)}},{title:"卖家",align:"center",render:function(e,n){return e("a",{on:{click:function(){t.$router.push({name:"userInfo",params:{id:n.row.s_id}})}}},n.row.s_name)}},{title:"操作",align:"center",key:"action",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"large"},style:{marginRight:"5px"},on:{click:function(){t.orderUpdate(n,0,1,!1,t.data2)}}},"取消订单")])}}]})},getSended:function(){var t=this;this.$api(this.$SERVER.GET_ORDERLIST,{params:{b_id:this.b_id,o_state:2,o_del:!1}}).then(function(e){t.data3=e.data.list;for(var n=0;n<t.data3.length;n++)t.columns3=[{title:"下单时间",align:"center",width:105,render:function(t,e){return t("span",e.row.create_date)}},{title:"商品",align:"center",key:"name",width:270,render:function(e,n){return e("div",[e("img",{attrs:{src:t.$SERVER.FILEURL+n.row.commodity.c_images[0]},style:{display:"block",width:"40px",height:"40px",marginTop:"10px",float:"left"}}),e("a",{style:{display:"block",marginLeft:"50px",height:"40px",textAlign:"left",paddingTop:"10px"},on:{click:function(){t.$router.push({name:"detail",params:{id:n.row.c_id}})}}},n.row.commodity.c_title),e("span",{style:{display:"block",width:"200px",marginLeft:"50px",textAlign:"left",marginTop:"-5px"}},"id:"+n.row.commodity._id)])}},{title:"单价",align:"center",width:100,render:function(t,e){return t("span",e.row.o_price/100)}},{title:"数量",align:"center",render:function(t,e){return t("span",e.row.o_num)}},{title:"实付款",align:"center",render:function(t,e){return t("span",{style:{color:"#f00"}},e.row.o_price/100*e.row.o_num)}},{title:"卖家",align:"center",render:function(e,n){return e("a",{on:{click:function(){t.$router.push({name:"userInfo",params:{id:n.row.s_id}})}}},n.row.s_name)}},{title:"操作",align:"center",key:"action",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"large"},style:{marginRight:"5px"},on:{click:function(){t.orderUpdate(n,3,2,!1,t.data3)}}},"确认收货")])}}]})},getSuccessOrder:function(){var t=this;this.$api(this.$SERVER.GET_ORDERLIST,{params:{b_id:this.b_id,o_state:3,o_del:!1}}).then(function(e){t.data4=e.data.list;for(var n=0;n<t.data4.length;n++)t.columns4=[{title:"下单时间",align:"center",width:105,render:function(t,e){return t("span",e.row.create_date)}},{title:"商品",align:"center",key:"name",width:270,render:function(e,n){return e("div",[e("img",{attrs:{src:t.$SERVER.FILEURL+n.row.commodity.c_images[0]},style:{display:"block",width:"40px",height:"40px",marginTop:"10px",float:"left"}}),e("a",{style:{display:"block",marginLeft:"50px",height:"40px",textAlign:"left",paddingTop:"10px"},on:{click:function(){t.$router.push({name:"detail",params:{id:n.row.c_id}})}}},n.row.commodity.c_title),e("span",{style:{display:"block",width:"200px",marginLeft:"50px",textAlign:"left",marginTop:"-5px"}},"id:"+n.row.commodity._id)])}},{title:"单价",align:"center",width:100,render:function(t,e){return t("span",e.row.o_price/100)}},{title:"数量",align:"center",render:function(t,e){return t("span",e.row.o_num)}},{title:"实付款",align:"center",render:function(t,e){return t("span",{style:{color:"#f00"}},e.row.o_price/100*e.row.o_num)}},{title:"卖家",align:"center",render:function(e,n){return e("a",{on:{click:function(){t.$router.push({name:"userInfo",params:{id:n.row.s_id}})}}},n.row.s_name)}},{title:"操作",align:"center",key:"action",render:function(t,e){return t("div",[t("Button",{props:{type:"primary",size:"large"},style:{marginRight:"5px"},on:{click:function(){}}},"评价")])}}]})},getClosedOrder:function(){var t=this;this.$api(this.$SERVER.GET_ORDERLIST,{params:{b_id:this.b_id,o_state:0,o_del:!1}}).then(function(e){t.data5=e.data.list;for(var n=0;n<t.data5.length;n++)t.columns5=[{title:"下单时间",align:"center",width:105,render:function(t,e){return t("span",e.row.create_date)}},{title:"商品",align:"center",key:"name",width:270,render:function(e,n){return e("div",[e("img",{attrs:{src:t.$SERVER.FILEURL+n.row.commodity.c_images[0]},style:{display:"block",width:"40px",height:"40px",marginTop:"10px",float:"left"}}),e("a",{style:{display:"block",marginLeft:"50px",height:"40px",textAlign:"left",paddingTop:"10px"},on:{click:function(){t.$router.push({name:"detail",params:{id:n.row.c_id}})}}},n.row.commodity.c_title),e("span",{style:{display:"block",width:"200px",marginLeft:"50px",textAlign:"left",marginTop:"-5px"}},"id:"+n.row.commodity._id)])}},{title:"单价",align:"center",width:100,render:function(t,e){return t("span",{style:{color:"#f00"}},e.row.o_price/100)}},{title:"数量",align:"center",render:function(t,e){return t("span",e.row.o_num)}},{title:"实付款",align:"center",render:function(t,e){return t("span",{style:{color:"#f00"}},e.row.o_price/100*e.row.o_num)}},{title:"卖家",align:"center",render:function(e,n){return e("a",{on:{click:function(){t.$router.push({name:"userInfo",params:{id:n.row.s_id}})}}},n.row.s_name)}},{title:"操作",align:"center",key:"action",render:function(e,n){return e("div",[e("Button",{props:{type:"error",size:"large"},style:{marginRight:"5px"},on:{click:function(){t.$api.post(t.$SERVER.POST_ORDERUPDATE,{id:n.row._id,o_del:!0}).then(function(e){t.$api(t.$SERVER.GET_ORDERLIST,{params:{s_id:t.u_id,o_state:0,o_del:!1}}).then(function(e){console.log(e),t.data5=e.data.list})})}}},"删除")])}}]})}},created:function(){this.getUserInfo()}},o=a,l=(n("f1be"),n("2877")),s=Object(l["a"])(o,i,r,!1,null,null,null);s.options.__file="index.vue";e["default"]=s.exports},f1be:function(t,e,n){"use strict";var i=n("e172"),r=n.n(i);r.a}}]);
//# sourceMappingURL=chunk-24e95116.07055724.js.map