(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3130300f"],{"0bfb":function(t,e,i){"use strict";var s=i("cb7c");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,i){var s=i("52a7"),a=i("4630"),o=i("6821"),n=i("6a99"),c=i("69a8"),r=i("c69a"),l=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?l:function(t,e){if(t=o(t),e=n(e,!0),r)try{return l(t,e)}catch(i){}if(c(t,e))return a(!s.f.call(t,e),t[e])}},"34f0":function(t,e,i){"use strict";var s=i("ad90"),a=i.n(s);a.a},"3b2b":function(t,e,i){var s=i("7726"),a=i("5dbc"),o=i("86cc").f,n=i("9093").f,c=i("aae3"),r=i("0bfb"),l=s.RegExp,u=l,h=l.prototype,p=/a/g,g=/a/g,f=new l(p)!==p;if(i("9e1e")&&(!f||i("79e5")(function(){return g[i("2b4c")("match")]=!1,l(p)!=p||l(g)==g||"/a/i"!=l(p,"i")}))){l=function(t,e){var i=this instanceof l,s=c(t),o=void 0===e;return!i&&s&&t.constructor===l&&o?t:a(f?new u(s&&!o?t.source:t,e):u((s=t instanceof l)?t.source:t,s&&o?r.call(t):e),i?this:h,l)};for(var d=function(t){t in l||o(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},m=n(u),v=0;m.length>v;)d(m[v++]);h.constructor=l,l.prototype=h,i("2aba")(s,"RegExp",l)}i("7a56")("RegExp")},4991:function(t,e,i){},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"5dbc":function(t,e,i){var s=i("d3f4"),a=i("8b97").set;t.exports=function(t,e,i){var o,n=e.constructor;return n!==i&&"function"==typeof n&&(o=n.prototype)!==i.prototype&&s(o)&&a&&a(t,o),t}},"5e2f":function(t,e,i){"use strict";var s=i("9c3f"),a=i.n(s);a.a},"663d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAEECAIAAABBat1dAAAEW0lEQVR4nO3dQY7cOBAAwenF/v/L3ktij7RBoSSqHXE1WqOZVoKHMqnPr1+/foCfn3+evgE4hRggYoCIASIGiBggYoCIAfLv4t8+n89t9zFtMVtc/5rbHxyyHpIubml7uvqXPAY/Vgb4nxggYoCIASIGiBggYoCIASIGyGoCvXbaftGhQenETHd92SsfnBi0r33TY2BlgIgBIgaIGCBigIgBIgaIGCD7Q7eFofnXI/Odod2SQ9Ox07ZovutJsDJAxAARA0QMEDFAxAARA0QMEDFARibQ7zI0073/hOCLn8XKABEDRAwQMUDEABEDRAwQMUDEADGB3jc07r2yb/j+g4e/iZUBIgaIGCBigIgBIgaIGCBigIwM3d41wRmaRj1yBvBpBw+/60mwMkDEABEDRAwQMUDEABEDRAwQMUD2J9CnDTvvN/SO2isHIW9v+9z2TY+BlQEiBogYIGKAiAEiBogYIGKAiAHyedcu1QmPnMh7/+DWF/1bVgaIGCBigIgBIgaIGCBigIgBMnLw8NBEaWg/5Lahn/g1Y76f845tXt+PlQEiBogYIGKAiAEiBogYIGKAiAEycvDwlVHxtvt/6LtOCF7bvp+hGfMjm1StDBAxQMQAEQNEDBAxQMQAEQPkTds+H5nWvcv27Oz+t48e+Ge3MkDEABEDRAwQMUDEABEDRAwQMUBWb/s8beL7yP7D0wztbr3/r/fIplkHD8MfEQNEDBAxQMQAEQNEDBAxQMQAWU2gf/PJ2we3B55n/DW290BvX/YKE2iYJQaIGCBigIgBIgaIGCBigKwOHn7XNsuh6dj92xpPmy0OPQZD39eVy1oZIGKAiAEiBogYIGKAiAEiBogYIMe9+nboIOT7z1d+1+B2yP2D7SusDBAxQMQAEQNEDBAxQMQAEQNEDJCRCfQjTttz/K6tzNse2Sg/NJ+2MkDEABEDRAwQMUDEABEDRAyQkaHbI/Om+8c0j/ya7zI06xyahFoZIGKAiAEiBogYIGKAiAEiBogYIJ93HWQ74ZFX8Q6NZk876Pddrzm2MkDEABEDRAwQMUDEABEDRAyQ1bbPb9q4uBjTDJ0Hetosb9uBry3dHlmuWRkgYoCIASIGiBggYoCIASIGiBgg+wcPn7Zf9JHzjBeGRsX3/7eAd+0IvTIvtzJAxAARA0QMEDFAxAARA0QMEDFARl59+67jZoeO8n3XDvKvGWxfYWWAiAEiBogYIGKAiAEiBogYICNDt7/EI6/lvHJLew7cnzl0WSsDRAwQMUDEABEDRAwQMUDEABEDxAT6N7bfsro9n74y2B667ML9r+KdY2WAiAEiBogYIGKAiAEiBogYIGKAjEygDzxTdmF7hnrg5uCJW7rybT6ylXmblQEiBogYIGKAiAEiBogYIGKAfIZOwD3Nu+aAEx4ZY532CDl4GP6IGCBigIgBIgaIGCBigIgBIgbIagINfxUrA0QMEDFAxAARA0QMEDFAxAARA+Q/+FmFKoxLrsoAAAAASUVORK5CYII="},"6f23":function(t,e,i){t.exports=i.p+"img/wechat.b4288f39.jpg"},"7abe":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg"},[i("home-header",{on:{getCommodity:t.getCommodityList}}),i("div",{staticClass:"type-page clearfix"},[i("div",{staticClass:"banner clearfix"},[t.bannerImg.length?i("swiper",{attrs:{options:t.swiperOption}},[t._l(t.bannerImg,function(e,s){return i("swiper-slide",{key:s},[i("img",{staticClass:"swiper-img",attrs:{src:t.$SERVER.FILEURL+e.b_image,alt:"轮播图"}})])}),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),i("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),i("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2):t._e(),t.userInfo.u_avatar?i("div",{staticClass:"login-box"},[i("div",{staticClass:"profile"},[i("img",{staticClass:"profile-photo",attrs:{src:t.$SERVER.FILEURL+t.userInfo.u_avatar,alt:"登录头像"}})]),i("span",{staticClass:"account"},[t._v(t._s(t.userInfo.u_name))]),i("router-link",{staticClass:"personal",attrs:{to:"/user/personal"}},[t._v("个人中心")]),i("div",{staticClass:"quit",on:{click:t.quit}},[t._v("退出")])],1):i("div",{staticClass:"login-box"},[t._m(0),i("router-link",{attrs:{to:"/login"}},[i("el-button",{attrs:{type:"primary"}},[t._v("请登录")])],1),i("router-link",{staticClass:"register",attrs:{to:"/register"}},[t._v("免费注册")])],1)],1),i("Row",[i("Col",{attrs:{span:"8"}},t._l(t.typeList,function(e,s){return i("Menu",{key:s,attrs:{width:"200px",theme:t.theme2},on:{"on-open-change":function(i){t.clickSubmenu(e.t_name)}}},[i("Submenu",{attrs:{name:s}},[i("template",{slot:"title"},[t._v("\n              "+t._s(e.t_name)+"\n            ")]),t._l(e.t_types,function(s,a){return i("MenuItem",{key:a,attrs:{name:a},nativeOn:{click:function(i){t.showCommidity(e.t_name,s)}}},[t._v("\n              "+t._s(s)+"\n            ")])})],2)],1)}),1)],1),i("div",{staticClass:"main"},[i("div",{staticClass:"clearfix"},t._l(t.dataList.list,function(e,s){return i("div",{staticClass:"class-item",class:{"move-up":s===t.show},on:{mouseenter:function(e){t.moveUp(s)},mouseleave:function(e){t.moveDown(s)},click:function(i){t.toCommidityDetail(e._id)}}},[i("div",{staticClass:"class-bg-layer"}),i("div",{staticClass:"class-item-bg"},[i("a",{staticClass:"class-img"},[i("img",{staticClass:"img-responsive",staticStyle:{display:"block"},attrs:{src:t.$SERVER.FILEURL+e.c_images[0]}})]),i("div",{staticClass:"pricehot clearfix"},[i("span",{staticClass:"price"},[t._v("￥ "),i("span",[t._v(t._s(e.c_price/100))])]),t._m(1,!0)]),i("a",{staticClass:"title"},[t._v(t._s(e.c_title))]),i("div",{staticClass:"some  clearfix"},[i("span",{staticClass:"school"},[t._v(t._s(e.u_school))]),i("span",{staticClass:"user"},[t._v(t._s(e.u_name))])])])])}),0),i("div",[t.dataList.count>t.getApiData.pageSize?i("Page",{attrs:{"page-size":t.getApiData.pageSize,total:t.dataList.count,current:t.getApiData.pageIndex,"show-elevator":"","show-total":""},on:{"on-page-size-change":t.handleSizeChange,"on-change":t.handlePage}}):t._e()],1)])],1),i("home-footer")],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"profile"},[s("img",{staticClass:"profile-photo",attrs:{src:i("7e65"),alt:"登录头像"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"hot"},[t._v("点击数 "),i("span",[t._v("1639")])])}],o=(i("3b2b"),i("cebc")),n=(i("cadf"),i("551c"),i("097d"),i("dfa4"),i("1f80")),c=i("e725"),r=i("9fe9"),l=i("2f62"),u={data:function(){return{isShow:!1,second:null,current:0,secondCurrent:0,show:!1,theme2:"dark",apiData:{u_avatar:"",u_name:""},getApiData:{c_type:"",c_type2:"",pageSize:20,pageIndex:1,c_state:1,u_school:""},dataList:{count:1,list:[]},typeList:[],commidityList:[],bannerImg:[],swiperOption:{loop:!0,autoplay:3e3,autoplayDisableOnInteraction:!1,prevButton:".swiper-button-prev",nextButton:".swiper-button-next",pagination:".swiper-pagination",paginationClickable:!0},searchKey:""}},components:{HomeHeader:c["a"],HomeFooter:r["a"],swiper:n["swiper"],swiperSlide:n["swiperSlide"]},computed:Object(o["a"])({},Object(l["d"])(["userInfo","u_school"]),Object(l["b"])(["updateSchool"])),methods:Object(o["a"])({},Object(l["c"])(["setUserInfo","setCommoditySchool"]),{moveUp:function(t){this.show=t},moveDown:function(){this.show=!1},quit:function(){var t=this;this.$api(this.$SERVER.GET_QUIT).then(function(e){t.setCommoditySchool(""),t.getApiData.u_school="",t.setUserInfo(),t.getCommodityList()})},getUserInfo:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(e){return t.setUserInfo(e.data)})},isLogin:function(){var t=this;this.$api(this.$SERVER.GET_ISLOGIN).then(function(e){return e.state&&t.getUserInfo()})},getTypeList:function(){var t=this;this.$api(this.$SERVER.GET_TYPELIST).then(function(e){t.typeList=e.data.list})},getCommodity:function(){var t=this;""!==this.u_school?(this.getApiData.u_school=this.u_school,this.getCommodityList()):this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(e){null!==e.data?(t.getApiData.u_school=e.data.u_school,t.getCommodityList()):t.getCommodityList()})},getCommodityList:function(t){var e=this;t?(this.searchKey=t,this.$api(this.$SERVER.GET_COMMODITYLIST,{params:this.getApiData}).then(function(i){e.dataList.list=[];for(var s=0;s<i.data.list.length;s++){var a=new RegExp(".*"+t+".*");a.test(i.data.list[s].c_title)&&e.dataList.list.push(i.data.list[s])}})):this.$api(this.$SERVER.GET_COMMODITYLIST,{params:this.getApiData}).then(function(t){console.log(t),e.dataList=t.data})},showCommidity:function(t,e){this.getApiData.c_type=t,this.getApiData.c_type2=e,this.getCommodityList(this.searchKey)},toCommidityDetail:function(t){var e=this.$router.resolve({name:"detail",params:{id:t}});window.open(e.href,"_blank")},handleSizeChange:function(t){this.getApiData.pageSize=t,console.log(this.getApiData.pageSize),this.getCommidity()},handlePage:function(t){this.getApiData.pageIndex=t,this.getCommidity()},getBanner:function(){var t=this;this.$api(this.$SERVER.GET_BANNERLIST,{params:{b_state:1}}).then(function(e){t.bannerImg=e.data.list})},clickSubmenu:function(t){this.getApiData.c_type=t,this.getApiData.c_type2="",this.getCommodityList(this.searchKey)}}),created:function(){this.getTypeList(),this.getCommodity(),this.getBanner()},mounted:function(){},watch:{updateSchool:function(t){this.getCommodity()}}},h=u,p=(i("bb51"),i("2877")),g=Object(p["a"])(h,s,a,!1,null,"927193da",null);g.options.__file="index.vue";e["default"]=g.exports},"7e65":function(t,e,i){t.exports=i.p+"img/profile.8a549391.jpg"},"8b97":function(t,e,i){var s=i("d3f4"),a=i("cb7c"),o=function(t,e){if(a(t),!s(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,s){try{s=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),s(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,i){return o(t,i),e?t.__proto__=i:s(t,i),t}}({},!1):void 0),check:o}},9093:function(t,e,i){var s=i("ce10"),a=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return s(t,a)}},"9c3f":function(t,e,i){},"9fe9":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("div",{staticClass:"w"},[s("div",{staticClass:"contact"},[t._m(0),s("div",{staticClass:"connect"},[s("Poptip",{attrs:{trigger:"hover",placement:"top"}},[s("a",[s("i",{staticClass:"iconfont"},[t._v("")])]),s("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[s("img",{attrs:{src:i("663d"),alt:""}})])])],1),s("div",{staticClass:"connect"},[s("Poptip",{attrs:{trigger:"hover",placement:"top"}},[s("a",[s("i",{staticClass:"iconfont"},[t._v("")])]),s("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[s("img",{attrs:{src:i("6f23"),alt:""}})])])],1)])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h3",{staticClass:"title"},[t._v("\n        联系我们/\n        "),i("span",[t._v("cantact us")])])}],o=(i("34f0"),i("2877")),n={},c=Object(o["a"])(n,s,a,!1,null,"c2d0dc48",null);c.options.__file="index.vue";e["a"]=c.exports},aae3:function(t,e,i){var s=i("d3f4"),a=i("2d95"),o=i("2b4c")("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==a(t))}},ad90:function(t,e,i){},bb51:function(t,e,i){"use strict";var s=i("4991"),a=i.n(s);a.a},e278:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-select",{attrs:{filterable:"",remote:"",clearable:"",placeholder:"学校","remote-method":t.getSchoolList,loading:t.schoolLoading},on:{change:t.setVal,clear:t.setVal},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}},t._l(t.schools,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)},a=[],o={name:"school",props:["school","schools"],data:function(){return{val:"",schoolLoading:!1}},methods:{getSchoolList:function(t){var e=this;""!==t&&(this.schoolLoading=!0,this.$api("".concat(this.$SERVER.GET_SCHOOILIST,"?name=").concat(t)).then(function(t){e.schoolLoading=!1,e.$emit("list",t.data)}))},setVal:function(t){console.log(t),this.$emit("change",t)}},created:function(){},mounted:function(){},watch:{school:function(t){this.val=t}}},n=o,c=i("2877"),r=Object(c["a"])(n,s,a,!1,null,null,null);r.options.__file="index.vue";e["a"]=r.exports},e725:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"w"},[t._m(0),i("router-link",{attrs:{to:"/"}},[i("div",{staticClass:"home"},[t._v("首页")])]),i("div",{staticClass:"school"},[i("span",{staticClass:"location iconfont"},[t._v("")]),i("span",[t._v(t._s(t.u_school))]),i("a",{staticClass:"change",on:{click:function(e){t.modal=!0}}},[t._v("[切换]")]),i("Modal",{attrs:{title:"请输入学校名称","class-name":"vertical-center-modal"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[i("school",{attrs:{school:t.changeSchoolName,schools:t.schoolList},on:{list:t.getSchoolList,change:t.setSchool}}),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("button",{staticClass:"ivu-btn ivu-btn-text ivu-btn-large",attrs:{type:"button"},on:{click:t.cancel}},[i("span",[t._v("取消")])]),i("button",{staticClass:"ivu-btn ivu-btn-primary ivu-btn-large",attrs:{type:"button"},on:{click:t.changeSchool}},[i("span",[t._v("确定")])])])],1)],1),i("el-button",{staticClass:"release",attrs:{type:"info"},on:{click:t.handleRelease}},[t._v("发布商品")]),i("Modal",{attrs:{width:"360"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}},[i("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("Icon",{attrs:{type:"ios-information-circle"}}),i("span",[t._v("您还未登录")])],1),i("div",{staticClass:"toLogin"},[i("Button",{attrs:{type:"primary"},on:{click:t.handleLogin}},[t._v("请先登录")])],1),i("div",{attrs:{slot:"footer"},slot:"footer"})]),t.userInfo.u_avatar?i("ul",{staticClass:"login-box"},[i("li",[i("a",{staticClass:"headpic-link",on:{click:t.toUser}},[i("img",{staticClass:"headpic",attrs:{src:t.$SERVER.FILEURL+t.userInfo.u_avatar}})])]),i("li",[i("a",{staticClass:"quit",on:{click:function(e){t.handleQuit()}}},[t._v("退出")])])]):t._e(),t.userInfo.u_avatar?t._e():i("ul",{staticClass:"unLogin"},[i("router-link",{attrs:{to:"/login"}},[i("a",{staticClass:"login"},[t._v("登录")])]),i("router-link",{attrs:{to:"/register"}},[i("a",{staticClass:"register"},[t._v("注册")])])],1),i("div",{staticClass:"search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],staticClass:"search-filed",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.searchKey},on:{input:function(e){e.target.composing||(t.searchKey=e.target.value)}}}),i("button",{staticClass:"search-btn",on:{click:t.searchResult}},[t._v("搜索")])])],1)])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h1",[i("a",{staticClass:"logo",attrs:{href:"javascript:void(0)"}},[t._v("校乐购")])])}],o=i("cebc"),n=(i("cadf"),i("551c"),i("097d"),i("2f62")),c=i("e278"),r={props:["unLogin"],data:function(){return{login:!1,modal:!1,changeSchoolName:"",schoolList:[],searchKey:""}},components:{School:c["a"]},computed:Object(o["a"])({},Object(n["d"])(["userInfo","u_school"])),methods:Object(o["a"])({},Object(n["c"])(["setUserInfo","setCommoditySchool"]),{handleQuit:function(){var t=this;this.$api(this.$SERVER.GET_QUIT).then(function(e){t.setUserInfo(),t.setCommoditySchool(""),t.$router.push("/")})},toUser:function(){this.$router.push("/user/personal")},handleRelease:function(){this.userInfo.u_avatar?this.$router.push("/release"):this.login=!0},handleLogin:function(){this.login=!1,this.$router.push("/login")},getUserInfo:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(e){t.setUserInfo(e.data),null!==e.data&&t.setCommoditySchool(e.data.u_school),t.changeSchoolName=t.u_school})},isLogin:function(){var t=this;this.$api(this.$SERVER.GET_ISLOGIN).then(function(e){return e.state&&t.getUserInfo()})},getSchoolList:function(t){this.schoolList=t},setSchool:function(t){this.changeSchoolName=t},changeSchool:function(){this.setCommoditySchool(this.changeSchoolName),this.modal=!1},cancel:function(){this.modal=!1},searchResult:function(){this.$emit("getCommodity",this.searchKey)}}),created:function(){this.isLogin()}},l=r,u=(i("5e2f"),i("2877")),h=Object(u["a"])(l,s,a,!1,null,null,null);h.options.__file="index.vue";e["a"]=h.exports}}]);
//# sourceMappingURL=chunk-3130300f.9108568a.js.map