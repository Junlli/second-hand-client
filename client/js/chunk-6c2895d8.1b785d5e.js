(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c2895d8"],{"0bfb":function(t,e,a){"use strict";var i=a("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,a){var i=a("52a7"),s=a("4630"),o=a("6821"),n=a("6a99"),c=a("69a8"),r=a("c69a"),l=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?l:function(t,e){if(t=o(t),e=n(e,!0),r)try{return l(t,e)}catch(a){}if(c(t,e))return s(!i.f.call(t,e),t[e])}},"37a2":function(t,e,a){},"3ad4":function(t,e,a){},"3b2b":function(t,e,a){var i=a("7726"),s=a("5dbc"),o=a("86cc").f,n=a("9093").f,c=a("aae3"),r=a("0bfb"),l=i.RegExp,u=l,h=l.prototype,p=/a/g,g=/a/g,f=new l(p)!==p;if(a("9e1e")&&(!f||a("79e5")(function(){return g[a("2b4c")("match")]=!1,l(p)!=p||l(g)==g||"/a/i"!=l(p,"i")}))){l=function(t,e){var a=this instanceof l,i=c(t),o=void 0===e;return!a&&i&&t.constructor===l&&o?t:s(f?new u(i&&!o?t.source:t,e):u((i=t instanceof l)?t.source:t,i&&o?r.call(t):e),a?this:h,l)};for(var d=function(t){t in l||o(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},v=n(u),m=0;v.length>m;)d(v[m++]);h.constructor=l,l.prototype=h,a("2aba")(i,"RegExp",l)}a("7a56")("RegExp")},"4fcd":function(t,e,a){"use strict";var i=a("3ad4"),s=a.n(i);s.a},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"5dbc":function(t,e,a){var i=a("d3f4"),s=a("8b97").set;t.exports=function(t,e,a){var o,n=e.constructor;return n!==a&&"function"==typeof n&&(o=n.prototype)!==a.prototype&&i(o)&&s&&s(t,o),t}},"5e2f":function(t,e,a){"use strict";var i=a("9c3f"),s=a.n(i);s.a},"663d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAEECAIAAABBat1dAAAEW0lEQVR4nO3dQY7cOBAAwenF/v/L3ktij7RBoSSqHXE1WqOZVoKHMqnPr1+/foCfn3+evgE4hRggYoCIASIGiBggYoCIAfLv4t8+n89t9zFtMVtc/5rbHxyyHpIubml7uvqXPAY/Vgb4nxggYoCIASIGiBggYoCIASIGyGoCvXbaftGhQenETHd92SsfnBi0r33TY2BlgIgBIgaIGCBigIgBIgaIGCD7Q7eFofnXI/Odod2SQ9Ox07ZovutJsDJAxAARA0QMEDFAxAARA0QMEDFARibQ7zI0073/hOCLn8XKABEDRAwQMUDEABEDRAwQMUDEADGB3jc07r2yb/j+g4e/iZUBIgaIGCBigIgBIgaIGCBigIwM3d41wRmaRj1yBvBpBw+/60mwMkDEABEDRAwQMUDEABEDRAwQMUD2J9CnDTvvN/SO2isHIW9v+9z2TY+BlQEiBogYIGKAiAEiBogYIGKAiAHyedcu1QmPnMh7/+DWF/1bVgaIGCBigIgBIgaIGCBigIgBMnLw8NBEaWg/5Lahn/g1Y76f845tXt+PlQEiBogYIGKAiAEiBogYIGKAiAEycvDwlVHxtvt/6LtOCF7bvp+hGfMjm1StDBAxQMQAEQNEDBAxQMQAEQPkTds+H5nWvcv27Oz+t48e+Ge3MkDEABEDRAwQMUDEABEDRAwQMUBWb/s8beL7yP7D0wztbr3/r/fIplkHD8MfEQNEDBAxQMQAEQNEDBAxQMQAWU2gf/PJ2we3B55n/DW290BvX/YKE2iYJQaIGCBigIgBIgaIGCBigKwOHn7XNsuh6dj92xpPmy0OPQZD39eVy1oZIGKAiAEiBogYIGKAiAEiBogYIMe9+nboIOT7z1d+1+B2yP2D7SusDBAxQMQAEQNEDBAxQMQAEQNEDJCRCfQjTttz/K6tzNse2Sg/NJ+2MkDEABEDRAwQMUDEABEDRAyQkaHbI/Om+8c0j/ya7zI06xyahFoZIGKAiAEiBogYIGKAiAEiBogYIJ93HWQ74ZFX8Q6NZk876Pddrzm2MkDEABEDRAwQMUDEABEDRAyQ1bbPb9q4uBjTDJ0Hetosb9uBry3dHlmuWRkgYoCIASIGiBggYoCIASIGiBgg+wcPn7Zf9JHzjBeGRsX3/7eAd+0IvTIvtzJAxAARA0QMEDFAxAARA0QMEDFARl59+67jZoeO8n3XDvKvGWxfYWWAiAEiBogYIGKAiAEiBogYICNDt7/EI6/lvHJLew7cnzl0WSsDRAwQMUDEABEDRAwQMUDEABEDxAT6N7bfsro9n74y2B667ML9r+KdY2WAiAEiBogYIGKAiAEiBogYIGKAjEygDzxTdmF7hnrg5uCJW7rybT6ylXmblQEiBogYIGKAiAEiBogYIGKAfIZOwD3Nu+aAEx4ZY532CDl4GP6IGCBigIgBIgaIGCBigIgBIgbIagINfxUrA0QMEDFAxAARA0QMEDFAxAARA+Q/+FmFKoxLrsoAAAAASUVORK5CYII="},"6f23":function(t,e,a){t.exports=a.p+"img/wechat.b4288f39.jpg"},"7abe":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg"},[a("home-header",{on:{getCommodity:t.getCommodityList}}),a("div",{staticClass:"type-page clearfix"},[a("div",{staticClass:"banner clearfix"},[t.bannerImg.length?a("swiper",{attrs:{options:t.swiperOption}},[t._l(t.bannerImg,function(e,i){return a("swiper-slide",{key:i},[a("img",{staticClass:"swiper-img",attrs:{src:t.$SERVER.FILEURL+e.b_image,alt:"轮播图"}})])}),a("div",{staticClass:"swiper-pagination ",attrs:{slot:"pagination"},slot:"pagination"}),a("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),a("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2):t._e(),t.userInfo.u_avatar?a("div",{staticClass:"login-box"},[a("div",{staticClass:"profile"},[a("img",{staticClass:"profile-photo",attrs:{src:t.$SERVER.FILEURL+t.userInfo.u_avatar,alt:"登录头像"}})]),a("span",{staticClass:"account"},[t._v(t._s(t.userInfo.u_name))]),a("router-link",{staticClass:"personal",attrs:{to:"/user/personal"}},[t._v("个人中心")]),a("div",{staticClass:"quit",on:{click:t.quit}},[t._v("退出")])],1):a("div",{staticClass:"login-box"},[t._m(0),a("router-link",{attrs:{to:"/login"}},[a("el-button",{attrs:{type:"primary"}},[t._v("请登录")])],1),a("router-link",{staticClass:"register",attrs:{to:"/register"}},[t._v("免费注册")])],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},t._l(t.typeList,function(e,i){return a("Menu",{key:i,attrs:{width:"200px",theme:t.theme2},on:{"on-open-change":function(a){t.clickSubmenu(e.t_name)}}},[a("Submenu",{attrs:{name:i}},[a("template",{slot:"title"},[t._v("\n              "+t._s(e.t_name)+"\n            ")]),t._l(e.t_types,function(i,s){return a("MenuItem",{key:s,attrs:{name:s},nativeOn:{click:function(a){t.showCommidity(e.t_name,i)}}},[t._v("\n              "+t._s(i)+"\n            ")])})],2)],1)}),1)],1),a("div",{staticClass:"main"},[a("div",{staticClass:"clearfix"},t._l(t.dataList.list,function(e,i){return a("div",{staticClass:"class-item",class:{"move-up":i===t.show},on:{mouseenter:function(e){t.moveUp(i)},mouseleave:function(e){t.moveDown(i)},click:function(a){t.toCommidityDetail(e._id)}}},[a("div",{staticClass:"class-bg-layer"}),a("div",{staticClass:"class-item-bg"},[a("a",{staticClass:"class-img"},[a("img",{staticClass:"img-responsive",staticStyle:{display:"block"},attrs:{src:t.$SERVER.FILEURL+e.c_images[0],alt:"36码mm猛戳啦！","data-original":"/Uploads/salebuy/2016-01-13/thumb_5695e0a4885a1.jpg"}})]),a("div",{staticClass:"pricehot clearfix"},[a("span",{staticClass:"price"},[t._v("￥ "),a("span",[t._v(t._s(e.c_price/100))])]),t._m(1,!0)]),a("a",{staticClass:"title"},[t._v(t._s(e.c_title))]),a("div",{staticClass:"some  clearfix"},[a("span",{staticClass:"school"},[t._v(t._s(e.u_school))]),a("span",{staticClass:"user"},[t._v(t._s(e.u_name))])])])])}),0),a("div",[t.dataList.count>t.getApiData.pageSize?a("Page",{attrs:{"page-size":t.getApiData.pageSize,total:t.dataList.count,current:t.getApiData.pageIndex,"show-elevator":"","show-total":""},on:{"on-page-size-change":t.handleSizeChange,"on-change":t.handlePage}}):t._e()],1)])],1),a("home-footer")],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile"},[i("img",{staticClass:"profile-photo",attrs:{src:a("7e65"),alt:"登录头像"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"hot"},[t._v("点击数 "),a("span",[t._v("1639")])])}],o=(a("3b2b"),a("cebc")),n=(a("dfa4"),a("1f80")),c=a("e725"),r=a("9fe9"),l=a("2f62"),u={data:function(){return{isShow:!1,second:null,current:0,secondCurrent:0,show:!1,theme2:"dark",apiData:{u_avatar:"",u_name:""},getApiData:{c_type:"",c_type2:"",pageSize:20,pageIndex:1,c_state:1,u_school:""},dataList:{count:1,list:[]},typeList:[],commidityList:[],bannerImg:[],swiperOption:{loop:!0,autoplay:3e3,autoplayDisableOnInteraction:!1,prevButton:".swiper-button-prev",nextButton:".swiper-button-next",pagination:".swiper-pagination",paginationClickable:!0}}},components:{HomeHeader:c["a"],HomeFooter:r["a"],swiper:n["swiper"],swiperSlide:n["swiperSlide"]},computed:Object(o["a"])({},Object(l["d"])(["userInfo","u_school"]),Object(l["b"])(["updateSchool"])),methods:Object(o["a"])({},Object(l["c"])(["setUserInfo"]),{moveUp:function(t){this.show=t},moveDown:function(){this.show=!1},quit:function(){var t=this;this.$api(this.$SERVER.GET_QUIT).then(function(e){return t.setUserInfo()})},getUserInfo:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(e){return t.setUserInfo(e.data)})},isLogin:function(){var t=this;this.$api(this.$SERVER.GET_ISLOGIN).then(function(e){return e.state&&t.getUserInfo()})},getTypeList:function(){var t=this;this.$api(this.$SERVER.GET_TYPELIST).then(function(e){t.typeList=e.data.list})},getCommodity:function(){var t=this;""!==this.u_school?(this.getApiData.u_school=this.u_school,this.getCommodityList()):this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(e){t.getApiData.u_school=e.data.u_school,t.getCommodityList()})},getCommodityList:function(t){var e=this;t?this.$api(this.$SERVER.GET_COMMODITYLIST,{params:this.getApiData}).then(function(a){e.dataList.list=[];for(var i=0;i<a.data.list.length;i++){var s=new RegExp(".*"+t+".*");s.test(a.data.list[i].c_title)&&e.dataList.list.push(a.data.list[i])}}):this.$api(this.$SERVER.GET_COMMODITYLIST,{params:this.getApiData}).then(function(t){e.dataList=t.data})},showCommidity:function(t,e){var a=this;this.getApiData.c_type=t,this.getApiData.c_type2=e,this.$api(this.$SERVER.GET_COMMODITYLIST,{params:this.getApiData}).then(function(t){a.dataList=t.data})},toCommidityDetail:function(t){var e=this.$router.resolve({name:"detail",params:{id:t}});window.open(e.href,"_blank")},handleSizeChange:function(t){this.getApiData.pageSize=t,console.log(this.getApiData.pageSize),this.getCommidity()},handlePage:function(t){this.getApiData.pageIndex=t,this.getCommidity()},getBanner:function(){var t=this;this.$api(this.$SERVER.GET_BANNERLIST,{params:{b_state:1}}).then(function(e){t.bannerImg=e.data.list})},clickSubmenu:function(t){var e=this;this.$api(this.$SERVER.GET_COMMODITYLIST,{params:{c_type:t,c_state:1}}).then(function(t){e.dataList=t.data})}}),created:function(){this.getTypeList(),this.getCommodity(),this.getBanner()},mounted:function(){},watch:{updateSchool:function(t){t&&this.getCommodity()}}},h=u,p=(a("ab33"),a("2877")),g=Object(p["a"])(h,i,s,!1,null,"450177f0",null);g.options.__file="index.vue";e["default"]=g.exports},"7e65":function(t,e,a){t.exports=a.p+"img/profile.8a549391.jpg"},"8b97":function(t,e,a){var i=a("d3f4"),s=a("cb7c"),o=function(t,e){if(s(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(s){e=!0}return function(t,a){return o(t,a),e?t.__proto__=a:i(t,a),t}}({},!1):void 0),check:o}},9093:function(t,e,a){var i=a("ce10"),s=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,s)}},"9c3f":function(t,e,a){},"9fe9":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footer"},[i("div",{staticClass:"w"},[i("div",{staticClass:"contact"},[t._m(0),i("Poptip",{attrs:{trigger:"hover",placement:"top"}},[i("a",[i("i",{staticClass:"iconfont"},[t._v("")])]),i("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[i("img",{attrs:{src:a("663d"),alt:""}})])]),i("Poptip",{attrs:{trigger:"hover",placement:"top"}},[i("a",[i("i",{staticClass:"iconfont"},[t._v("")])]),i("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[i("img",{attrs:{src:a("6f23"),alt:""}})])])],1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",{staticClass:"title"},[t._v("\n        联系我们/\n        "),a("span",[t._v("cantact us")])])}],o=(a("4fcd"),a("2877")),n={},c=Object(o["a"])(n,i,s,!1,null,"042c520c",null);c.options.__file="index.vue";e["a"]=c.exports},aae3:function(t,e,a){var i=a("d3f4"),s=a("2d95"),o=a("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==s(t))}},ab33:function(t,e,a){"use strict";var i=a("37a2"),s=a.n(i);s.a},e278:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{filterable:"",remote:"",placeholder:"学校","remote-method":t.getSchoolList,loading:t.schoolLoading},on:{change:t.setVal},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}},t._l(t.schools,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)},s=[],o=(a("cadf"),a("551c"),a("097d"),{name:"school",props:["school","schools"],data:function(){return{val:"",schoolLoading:!1}},methods:{getSchoolList:function(t){var e=this;""!==t&&(this.schoolLoading=!0,this.$api("".concat(this.$SERVER.GET_SCHOOILIST,"?name=").concat(t)).then(function(t){e.schoolLoading=!1,e.$emit("list",t.data)}))},setVal:function(t){this.$emit("change",t)}},created:function(){},mounted:function(){},watch:{school:function(t){this.val=t}}}),n=o,c=a("2877"),r=Object(c["a"])(n,i,s,!1,null,null,null);r.options.__file="index.vue";e["a"]=r.exports},e725:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"w"},[t._m(0),a("router-link",{attrs:{to:"/"}},[a("div",{staticClass:"home"},[t._v("首页")])]),a("div",{staticClass:"school"},[a("span",{staticClass:"location iconfont"},[t._v("")]),a("span",[t._v(t._s(t.u_school))]),a("a",{staticClass:"change",on:{click:function(e){t.modal=!0}}},[t._v("[切换]")]),a("Modal",{attrs:{title:"请输入学校名称","class-name":"vertical-center-modal"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("school",{attrs:{school:t.changeSchoolName,schools:t.schoolList},on:{list:t.getSchoolList,change:t.setSchool}}),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"ivu-btn ivu-btn-text ivu-btn-large",attrs:{type:"button"},on:{click:t.cancel}},[a("span",[t._v("取消")])]),a("button",{staticClass:"ivu-btn ivu-btn-primary ivu-btn-large",attrs:{type:"button"},on:{click:t.changeSchool}},[a("span",[t._v("确定")])])])],1)],1),a("el-button",{staticClass:"release",attrs:{type:"info"},on:{click:t.handleRelease}},[t._v("发布商品")]),a("Modal",{attrs:{width:"360"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),a("span",[t._v("您还未登录")])],1),a("div",{staticClass:"toLogin"},[a("Button",{attrs:{type:"primary"},on:{click:t.handleLogin}},[t._v("请先登录")])],1),a("div",{attrs:{slot:"footer"},slot:"footer"})]),t.userInfo.u_avatar?a("ul",{staticClass:"login-box"},[a("li",[a("a",{staticClass:"headpic-link",on:{click:t.toUser}},[a("img",{staticClass:"headpic",attrs:{src:t.$SERVER.FILEURL+t.userInfo.u_avatar}})])]),a("li",[a("a",{staticClass:"quit",on:{click:function(e){t.handleQuit()}}},[t._v("退出")])])]):t._e(),t.userInfo.u_avatar?t._e():a("ul",{staticClass:"unLogin"},[a("router-link",{attrs:{to:"/login"}},[a("a",{staticClass:"login"},[t._v("登录")])]),a("router-link",{attrs:{to:"/register"}},[a("a",{staticClass:"register"},[t._v("注册")])])],1),a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],staticClass:"search-filed",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.searchKey},on:{input:function(e){e.target.composing||(t.searchKey=e.target.value)}}}),a("button",{staticClass:"search-btn",on:{click:t.searchResult}},[t._v("搜索")])])],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[a("a",{staticClass:"logo",attrs:{href:"javascript:void(0)"}},[t._v("校乐购")])])}],o=a("cebc"),n=(a("cadf"),a("551c"),a("097d"),a("2f62")),c=a("e278"),r={props:["unLogin"],data:function(){return{login:!1,modal:!1,changeSchoolName:"",schoolList:[],searchKey:""}},components:{School:c["a"]},computed:Object(o["a"])({},Object(n["d"])(["userInfo","u_school"])),methods:Object(o["a"])({},Object(n["c"])(["setUserInfo","setCommoditySchool"]),{handleQuit:function(){var t=this;this.$api(this.$SERVER.GET_QUIT).then(function(e){t.setUserInfo(),t.$router.push("/")})},toUser:function(){this.$router.push("/user/personal")},handleRelease:function(){this.userInfo.u_avatar?this.$router.push("/release"):this.login=!0},handleLogin:function(){this.login=!1,this.$router.push("/login")},getUserInfo:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(e){t.setUserInfo(e.data),""===t.u_school&&t.setCommoditySchool(e.data.u_school),t.changeSchoolName=t.u_school})},isLogin:function(){var t=this;this.$api(this.$SERVER.GET_ISLOGIN).then(function(e){return e.state&&t.getUserInfo()})},getSchoolList:function(t){this.schoolList=t},setSchool:function(t){this.changeSchoolName=t,console.log(this.changeSchoolName)},changeSchool:function(){this.setCommoditySchool(this.changeSchoolName),this.modal=!1},cancel:function(){this.modal=!1},searchResult:function(){this.$emit("getCommodity",this.searchKey)}}),created:function(){this.isLogin(),this.getUserInfo()}},l=r,u=(a("5e2f"),a("2877")),h=Object(u["a"])(l,i,s,!1,null,null,null);h.options.__file="index.vue";e["a"]=h.exports}}]);
//# sourceMappingURL=chunk-6c2895d8.1b785d5e.js.map