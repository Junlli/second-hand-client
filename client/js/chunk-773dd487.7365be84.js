(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-773dd487"],{"26f8":function(t,i,a){"use strict";i["a"]={data:function(){return{provinceList:[],cityList:[]}},created:function(){this.getProvinceList()},methods:{getProvinceList:function(){var t=this;this.$api(this.$SERVER.GET_PROVINCELIST).then(function(i){return t.provinceList=i.data})},setCityList:function(t){this.cityList=t.list,this.apiData.u_city="",this.apiData.u_province=t.val},getCityList:function(){var t=this;this.$api("".concat(this.$SERVER.GET_CITYLIST,"?id=").concat(this.apiData.u_province)).then(function(i){return t.cityList=i.data}),console.log(this.cityList)}}}},"452b":function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("el-select",{staticClass:"select",attrs:{placeholder:"请选择省份"},on:{change:t.getCityList},model:{value:t.val,callback:function(i){t.val=i},expression:"val"}},t._l(t.provinces,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)},o=[],s=(a("cadf"),a("551c"),a("097d"),{name:"province",props:["province","provinces"],data:function(){return{val:""}},methods:{getCityList:function(t){var i=this;this.$api("".concat(this.$SERVER.GET_CITYLIST,"?id=").concat(t)).then(function(a){return i.$emit("change",{list:a.data,val:t})})}},watch:{province:function(t){this.val=t}}}),n=s,c=(a("b1a8"),a("2877")),l=Object(c["a"])(n,e,o,!1,null,null,null);l.options.__file="index.vue";i["a"]=l.exports},"8c10":function(t,i,a){},"9b61":function(t,i,a){"use strict";var e=a("f87b"),o=a.n(e);o.a},b1a8:function(t,i,a){"use strict";var e=a("8c10"),o=a.n(e);o.a},d5c2:function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"box"},[a("div",{staticClass:"bg"}),a("div",{staticClass:"register-box"},[a("p",{staticClass:"register-title"},[t._v("注册校乐购")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isError,expression:"isError"}],staticClass:"error-msg"},[t._v(t._s(t.errorMsg))]),a("el-form",{attrs:{model:t.apiData}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"账号"},model:{value:t.apiData.u_account,callback:function(i){t.$set(t.apiData,"u_account",i)},expression:"apiData.u_account"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"密码",type:"password"},model:{value:t.apiData.u_password,callback:function(i){t.$set(t.apiData,"u_password",i)},expression:"apiData.u_password"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"确认密码",type:"password"},model:{value:t.apiData.u_confirmpwd,callback:function(i){t.$set(t.apiData,"u_confirmpwd",i)},expression:"apiData.u_confirmpwd"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"用户名"},model:{value:t.apiData.u_name,callback:function(i){t.$set(t.apiData,"u_name",i)},expression:"apiData.u_name"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"邮箱"},model:{value:t.apiData.u_mail,callback:function(i){t.$set(t.apiData,"u_mail",i)},expression:"apiData.u_mail"}})],1),a("el-form-item",[a("province",{staticStyle:{width:"130px"},attrs:{province:t.apiData.u_province,provinces:t.provinceList},on:{change:t.setCityList}}),a("el-select",{staticClass:"selectCity",staticStyle:{width:"130px"},attrs:{placeholder:"请选择城市"},model:{value:t.apiData.u_city,callback:function(i){t.$set(t.apiData,"u_city",i)},expression:"apiData.u_city"}},t._l(t.cityList,function(t){return a("el-option",{key:t,attrs:{value:t,label:t}})}),1)],1),a("el-form-item",[a("school",{attrs:{school:t.apiData.u_school,schools:t.schoolList},on:{list:t.getSchoolList,change:t.setSchool}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"电话号码"},model:{value:t.apiData.u_tel,callback:function(i){t.$set(t.apiData,"u_tel",i)},expression:"apiData.u_tel"}})],1)],1),a("router-link",{staticClass:"login",attrs:{to:"login"}},[t._v("登录")]),a("router-link",{staticClass:"home",attrs:{to:"/"}},[t._v("返回首页")]),a("button",{staticClass:"register-button",on:{click:t.register}},[t._v("注册")]),a("el-dialog",{attrs:{title:"注册成功！",visible:t.centerDialogVisible,"show-close":!1,width:"30%",center:""},on:{"update:visible":function(i){t.centerDialogVisible=i}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.toLogin}},[t._v("登录")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toHome}},[t._v("返回首页")])],1)])],1)])},o=[],s=a("26f8"),n=a("e278"),c=a("452b"),l={mixins:[s["a"]],data:function(){return{isError:!1,errorMsg:"",apiData:{u_account:"",u_password:"",u_confirmpwd:"",u_name:"",u_tel:"",u_mail:"",u_school:"",u_introduce:"",u_province:"",u_city:"",u_qq:"",u_wx:""},schoolList:[],centerDialogVisible:!1}},components:{School:n["a"],Province:c["a"]},methods:{register:function(){var t=this;""===this.apiData.u_account||""===this.apiData.u_password||""===this.apiData.u_mail||""===this.apiData.u_school?(this.errorMsg="请将信息填写完整",this.isError=!0):/^\w{6,10}$/.test(this.apiData.u_account)?/^[0-9a-zA-Z]{6,}/.test(this.apiData.u_password)?this.apiData.u_password!==this.apiData.u_confirmpwd?this.errorMsg="两次输入的密码不一致":/^[0-9a-zA-Z][.-_0-9a-zA-Z]*@[0-9a-zA-Z]+(\.[0-9a-zA-Z-_]+){1,2}$/.test(this.apiData.u_mail)?this.$api.post(this.$SERVER.POST_ADDUSER,this.apiData).then(function(i){return t.thenSubmit()}):(this.errorMsg="请填写正确的邮箱",this.isError=!0):(this.errorMsg="请填写正确的密码",this.isError=!0):(this.errorMsg="请填写正确的用户名",this.isError=!0)},thenSubmit:function(){this.centerDialogVisible=!0},getSchoolList:function(t){this.schoolList=t},setSchool:function(t){this.apiData.u_school=t},toLogin:function(){this.centerDialogVisible=!1,this.$router.push("/login")},toHome:function(){this.centerDialogVisible=!1,this.$router.push("/")}}},r=l,u=(a("9b61"),a("2877")),p=Object(u["a"])(r,e,o,!1,null,null,null);p.options.__file="index.vue";i["default"]=p.exports},e278:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("el-select",{attrs:{filterable:"",remote:"",placeholder:"学校","remote-method":t.getSchoolList,loading:t.schoolLoading},on:{change:t.setVal},model:{value:t.val,callback:function(i){t.val=i},expression:"val"}},t._l(t.schools,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)},o=[],s=(a("cadf"),a("551c"),a("097d"),{name:"school",props:["school","schools"],data:function(){return{val:"",schoolLoading:!1}},methods:{getSchoolList:function(t){var i=this;""!==t&&(console.log(t),this.schoolLoading=!0,this.$api("".concat(this.$SERVER.GET_SCHOOILIST,"?name=").concat(t)).then(function(t){i.schoolLoading=!1,i.$emit("list",t.data)}))},setVal:function(t){this.$emit("change",t)}},created:function(){},mounted:function(){},watch:{school:function(t){this.val=t}}}),n=s,c=a("2877"),l=Object(c["a"])(n,e,o,!1,null,null,null);l.options.__file="index.vue";i["a"]=l.exports},f87b:function(t,i,a){}}]);
//# sourceMappingURL=chunk-773dd487.7365be84.js.map