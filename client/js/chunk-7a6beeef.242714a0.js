(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a6beeef"],{"0d3d":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sale"},[n("div",{staticClass:"order"},[n("Tabs",{attrs:{type:"card"}},[n("TabPane",{attrs:{label:"正在出售"}},[n("Table",{ref:"currentRowTable",attrs:{"highlight-row":"",columns:t.columns1,data:t.data1}})],1),n("TabPane",{attrs:{label:"下架商品"}},[n("Table",{ref:"currentRowTable",attrs:{"highlight-row":"",columns:t.columns2,data:t.data2}})],1),n("TabPane",{attrs:{label:"未发货"}},[n("Table",{ref:"currentRowTable",attrs:{"highlight-row":"",columns:t.columns3,data:t.data3}})],1),n("TabPane",{attrs:{label:"已发货"}},[n("Table",{ref:"currentRowTable",attrs:{"highlight-row":"",columns:t.columns4,data:t.data4}})],1),n("TabPane",{attrs:{label:"成功的订单"}},[n("Table",{ref:"currentRowTable",attrs:{"highlight-row":"",columns:t.columns5,data:t.data5}})],1),n("TabPane",{attrs:{label:"关闭的订单"}},[n("Table",{ref:"currentRowTable",attrs:{"highlight-row":"",columns:t.columns6,data:t.data6}})],1)],1)],1),n("Modal",{attrs:{title:"订单详情"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("div",{staticClass:"orderInfo"},[n("p",[t._v("收货人： "+t._s(t.orderInfo.o_name))]),n("p",[t._v("交易地址： "+t._s(t.orderInfo.o_address))]),n("p",[t._v("联系电话： "+t._s(t.orderInfo.o_tel))])])])],1)},r=[],a={data:function(){return{commodityInfo:"",u_id:"",buyer:"",columns1:[],data1:[],columns2:[],data2:[],columns3:[],data3:[],columns4:[],data4:[],columns5:[],data5:[],columns6:[],data6:[],modal:!1,orderInfo:[]}},methods:{remove1:function(t){this.data1.splice(t,1)},remove2:function(t){this.data2.splice(t,1)},getCommodity:function(){this.$api(this.$SERVER.GET_COMMODITYLIST,{params:{u_id:this.u_id}})},getOrderInfo:function(t){this.modal=!0,this.orderInfo=t,console.log(this.orderInfo)},getUserInfo:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(e){t.u_id=e.data._id,t.getCommodity(),t.getOnSale(),t.getOffSale(),t.getUnSend()})},getOnSale:function(){var t=this;this.$api(this.$SERVER.GET_COMMODITYLIST,{params:{u_id:this.u_id,c_state:1}}).then(function(e){t.data1=e.data.list;for(var n=0;n<t.data1.length;n++)t.columns1=[{title:"商品名称",align:"center",width:270,render:function(e,n){return e("div",[e("img",{attrs:{src:t.$SERVER.FILEURL+n.row.c_images[0]},style:{display:"block",width:"40px",height:"40px",marginTop:"10px",float:"left"}}),e("a",{style:{display:"block",marginLeft:"50px",height:"40px",textAlign:"left",paddingTop:"10px"},on:{click:function(){t.$router.push({name:"detail",params:{id:n.row._id}})}}},n.row.c_title),e("span",{style:{display:"block",width:"200px",marginLeft:"50px",textAlign:"left",marginTop:"-5px"}},"id:"+n.row._id)])}},{title:"价格",align:"center",key:"price",width:100,render:function(t,e){return t("span",{style:{color:"#f00"}},e.row.c_price/100)}},{title:"库存",align:"center",render:function(t,e){return t("span",e.row.c_num)}},{title:"总销量",align:"center",width:150,render:function(t,e){return t("span",e.row.c_sales)}},{title:"发布时间",align:"center",render:function(t,e){return t("span",e.row.create_date)}},{title:"操作",align:"center",key:"action",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$router.push("/release?id="+n.row._id)}}},"编辑"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$api.post(t.$SERVER.POST_COMMODITYUPINFO,{c_id:n.row._id,c_state:2}).then(function(e){t.getOnSale(),t.getOffSale()})}}},"下架"),e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$api(t.$SERVER.GET_COMMODITYDEL,{params:{c_id:n.row._id}})}}},"删除")])}}]})},getOffSale:function(){var t=this;this.$api(this.$SERVER.GET_COMMODITYLIST,{params:{u_id:this.u_id,c_state:2}}).then(function(e){t.data2=e.data.list;for(var n=0;n<t.data2.length;n++)t.columns2=[{title:"商品名称",align:"center",key:"name",width:270,render:function(e,n){return e("div",[e("img",{attrs:{src:t.$SERVER.FILEURL+n.row.c_images[0]},style:{display:"block",width:"40px",height:"40px",marginTop:"10px",float:"left"}}),e("a",{style:{display:"block",marginLeft:"50px",height:"40px",textAlign:"left",paddingTop:"10px"},on:{click:function(){t.$router.push({name:"detail",params:{id:n.row._id}})}}},n.row.c_title),e("span",{style:{display:"block",width:"200px",marginLeft:"50px",textAlign:"left",marginTop:"-5px"}},"id:"+n.row._id)])}},{title:"价格",align:"center",key:"price",width:100,render:function(t,e){return t("span",{style:{color:"#f00"}},e.row.c_price/100)}},{title:"库存",align:"center",render:function(t,e){return t("span",e.row.c_num)}},{title:"总销量",align:"center",width:150,render:function(t,e){return t("span")}},{title:"发布时间",align:"center",render:function(t,e){return t("span",e.row.create_date)}},{title:"操作",align:"center",key:"action",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show(n.index)}}},"编辑"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$api.post(t.$SERVER.POST_COMMODITYUPINFO,{c_id:n.row._id,c_state:1}).then(function(e){t.getOnSale(),t.getOffSale()})}}},"上架"),e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$api(t.$SERVER.GET_COMMODITYDEL,{params:{c_id:n.row._id}})}}},"删除")])}}]})},getUnSend:function(){var t=this;this.$api(this.$SERVER.GET_ORDERLIST,{params:{s_id:this.u_id,o_state:1}}).then(function(e){t.data3=e.data.list;for(var n=0;n<t.data3.length;n++)t.columns3=[{title:"下单时间",align:"center",key:"datetime",width:105,render:function(t,e){return t("span",e.row.create_date)}},{title:"商品",align:"center",key:"name",width:260,render:function(e,n){return e("div",[e("img",{attrs:{src:t.$SERVER.FILEURL+n.row.commodity.c_images[0]},style:{display:"block",width:"40px",height:"40px",marginTop:"10px",float:"left"}}),e("a",{style:{display:"block",marginLeft:"50px",height:"40px",textAlign:"left",paddingTop:"10px"},on:{click:function(){t.$router.push({name:"detail",params:{id:n.row.c_id}})}}},n.row.commodity.c_title),e("span",{style:{display:"block",width:"210px",marginLeft:"50px",textAlign:"left",marginTop:"-5px"}},"订单号:"+n.row._id)])}},{title:"单价",align:"center",key:"price",width:100,render:function(t,e){return t("span",e.row.o_price/100)}},{title:"数量",align:"center",render:function(t,e){return t("span",e.row.o_num)}},{title:"实收款",align:"center",width:80,render:function(t,e){return t("span",{style:{color:"#f00"}},e.row.o_price/100*e.row.o_num)}},{title:"买家",align:"center",render:function(e,n){return e("a",{on:{click:function(){t.$router.push({name:"userInfo",params:{id:n.row.b_id}})}}},n.row.b_name)}},{title:"交易状态",align:"center",key:"status",render:function(e,n){return e("a",{on:{click:function(){t.getOrderInfo(n.row)}}},"订单详情")}},{title:"操作",align:"center",key:"action",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"large"},style:{marginRight:"5px"},on:{click:function(){t.$api.post(t.$SERVER.POST_ORDERUPDATE,{id:n.row._id,o_state:2}).then(function(e){t.$api(t.$SERVER.GET_ORDERLIST,{params:{s_id:t.u_id,o_state:1}}).then(function(e){t.data3=e.data.list})})}}},"发货")])}}]})},getSended:function(){var t=this;this.$api(this.$SERVER.GET_ORDERLIST,{params:{s_id:this.u_id,o_state:2}}).then(function(e){t.data4=e.data.list;for(var n=0;n<t.data4.length;n++)t.columns4=[{title:"下单时间",align:"center",width:105,render:function(t,e){return t("span",e.row.create_date)}},{title:"商品",align:"center",key:"name",width:300,render:function(e,n){return e("div",[e("img",{attrs:{src:t.$SERVER.FILEURL+n.row.commodity.c_images[0]},style:{display:"block",width:"40px",height:"40px",marginTop:"10px",float:"left"}}),e("a",{style:{display:"block",marginLeft:"50px",height:"40px",textAlign:"left",paddingTop:"10px"},on:{click:function(){t.$router.push({name:"detail",params:{id:n.row.c_id}})}}},n.row.commodity.c_title),e("span",{style:{display:"block",width:"222px",marginLeft:"50px",textAlign:"left",marginTop:"-5px"}},"订单号:"+n.row._id)])}},{title:"单价",align:"center",key:"price",width:100,render:function(t,e){return t("span",e.row.o_price/100)}},{title:"数量",align:"center",render:function(t,e){return t("span",e.row.o_price/100*e.row.o_num)}},{title:"实收款",align:"center",width:80,render:function(t,e){return t("span",{style:{color:"#f00"}},e.row.o_num)}},{title:"买家",align:"center",render:function(e,n){return e("a",{on:{click:function(){t.$router.push({name:"userInfo",params:{id:n.row.b_id}})}}},n.row.b_name)}},{title:"交易状态",align:"center",key:"status",render:function(e,n){return e("div",[e("span","已发货"),e("br"),e("a",{on:{click:function(){t.getOrderInfo(n.row)}}},"订单详情")])}}]})},getSuccessOrder:function(){var t=this;this.$api(this.$SERVER.GET_ORDERLIST,{params:{s_id:this.u_id,o_state:3}}).then(function(e){t.data5=e.data.list;for(var n=0;n<t.data5.length;n++)t.columns5=[{title:"下单时间",align:"center",width:105,render:function(t,e){return t("span",e.row.create_date)}},{title:"商品",align:"center",key:"name",width:300,render:function(e,n){return e("div",[e("img",{attrs:{src:t.$SERVER.FILEURL+n.row.commodity.c_images[0]},style:{display:"block",width:"40px",height:"40px",marginTop:"10px",float:"left"}}),e("a",{style:{display:"block",marginLeft:"50px",height:"40px",textAlign:"left",paddingTop:"10px"}},n.row.commodity.c_title),e("span",{style:{display:"block",width:"222px",marginLeft:"50px",textAlign:"left",marginTop:"-5px"}},"订单号:"+n.row._id)])}},{title:"单价",align:"center",key:"price",width:100,render:function(t,e){return t("span",e.row.o_price/100)}},{title:"数量",align:"center",render:function(t,e){return t("span",e.row.o_price/100*e.row.o_num)}},{title:"实收款",align:"center",width:80,render:function(t,e){return t("span",{style:{color:"#f00"}},e.row.o_num)}},{title:"买家",align:"center",render:function(e,n){return e("a",{on:{click:function(){t.$router.push({name:"userInfo",params:{id:n.row.b_id}})}}},n.row.b_name)}},{title:"交易状态",align:"center",key:"status",render:function(e,n){return e("div",[e("span","已发货"),e("br"),e("a",{on:{click:function(){t.getOrderInfo(n.row)}}},"订单详情")])}}]})},getClosedOrder:function(){var t=this;this.$api(this.$SERVER.GET_ORDERLIST,{params:{s_id:this.u_id,o_state:0,o_del:!1}}).then(function(e){t.data6=e.data.list;for(var n=0;n<t.data6.length;n++)t.columns6=[{title:"下单时间",align:"center",width:105,render:function(t,e){return t("span",e.row.create_date)}},{title:"商品",align:"center",key:"name",width:300,render:function(e,n){return e("div",[e("img",{attrs:{src:t.$SERVER.FILEURL+n.row.commodity.c_images[0]},style:{display:"block",width:"40px",height:"40px",marginTop:"10px",float:"left"}}),e("a",{style:{display:"block",marginLeft:"50px",height:"40px",textAlign:"left",paddingTop:"10px"}},n.row.commodity.c_title),e("span",{style:{display:"block",width:"222px",marginLeft:"50px",textAlign:"left",marginTop:"-5px"}},"订单号:"+n.row._id)])}},{title:"单价",align:"center",key:"price",width:100,render:function(t,e){return t("span",e.row.o_price/100)}},{title:"数量",align:"center",render:function(t,e){return t("span",e.row.o_price/100*e.row.o_num)}},{title:"实收款",align:"center",width:80,render:function(t,e){return t("span",{style:{color:"#f00"}},e.row.o_num)}},{title:"买家",align:"center",render:function(e,n){return e("a",{on:{click:function(){t.$router.push({name:"userInfo",params:{id:n.row.b_id}})}}},n.row.b_name)}},{title:"交易状态",align:"center",key:"status",render:function(e,n){return e("div",[e("Button",{props:{type:"error",size:"large"},style:{marginRight:"5px"},on:{click:function(){t.$api.post(t.$SERVER.POST_ORDERUPDATE,{id:n.row._id,o_del:!0}).then(function(e){t.$api(t.$SERVER.GET_ORDERLIST,{params:{s_id:t.u_id,o_state:0,o_del:!1}}).then(function(e){t.data6=e.data.list})})}}},"删除")])}}]})}},created:function(){this.getUserInfo(),this.getSended(),this.getSuccessOrder(),this.getClosedOrder()}},o=a,l=(n("1850"),n("2877")),c=Object(l["a"])(o,i,r,!1,null,null,null);c.options.__file="index.vue";e["default"]=c.exports},1850:function(t,e,n){"use strict";var i=n("4a55"),r=n.n(i);r.a},"4a55":function(t,e,n){}}]);
//# sourceMappingURL=chunk-7a6beeef.242714a0.js.map