(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a0c63bc"],{"26f8":function(t,a,e){"use strict";a["a"]={data:function(){return{provinceList:[],cityList:[]}},created:function(){this.getProvinceList()},methods:{getProvinceList:function(){var t=this;this.$api(this.$SERVER.GET_PROVINCELIST).then(function(a){return t.provinceList=a.data})},setCityList:function(t){this.cityList=t.list,this.apiData.u_city="",this.apiData.u_province=t.val},getCityList:function(){var t=this;this.$api("".concat(this.$SERVER.GET_CITYLIST,"?id=").concat(this.apiData.u_province)).then(function(a){return t.cityList=a.data}),console.log(this.cityList)}}}},"2c09":function(t,a,e){"use strict";var i=e("8ada"),o=e.n(i);o.a},"3ad4":function(t,a,e){},"452b":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-select",{staticClass:"select",attrs:{placeholder:"请选择省份"},on:{change:t.getCityList},model:{value:t.val,callback:function(a){t.val=a},expression:"val"}},t._l(t.provinces,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)},o=[],s={name:"province",props:["province","provinces"],data:function(){return{val:""}},methods:{getCityList:function(t){var a=this;this.$api("".concat(this.$SERVER.GET_CITYLIST,"?id=").concat(t)).then(function(e){return a.$emit("change",{list:e.data,val:t})})}},watch:{province:function(t){this.val=t}}},n=s,c=(e("b1a8"),e("2877")),l=Object(c["a"])(n,i,o,!1,null,null,null);l.options.__file="index.vue";a["a"]=l.exports},"4fcd":function(t,a,e){"use strict";var i=e("3ad4"),o=e.n(i);o.a},"5e2f":function(t,a,e){"use strict";var i=e("9c3f"),o=e.n(i);o.a},"663d":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAEECAIAAABBat1dAAAEW0lEQVR4nO3dQY7cOBAAwenF/v/L3ktij7RBoSSqHXE1WqOZVoKHMqnPr1+/foCfn3+evgE4hRggYoCIASIGiBggYoCIAfLv4t8+n89t9zFtMVtc/5rbHxyyHpIubml7uvqXPAY/Vgb4nxggYoCIASIGiBggYoCIASIGyGoCvXbaftGhQenETHd92SsfnBi0r33TY2BlgIgBIgaIGCBigIgBIgaIGCD7Q7eFofnXI/Odod2SQ9Ox07ZovutJsDJAxAARA0QMEDFAxAARA0QMEDFARibQ7zI0073/hOCLn8XKABEDRAwQMUDEABEDRAwQMUDEADGB3jc07r2yb/j+g4e/iZUBIgaIGCBigIgBIgaIGCBigIwM3d41wRmaRj1yBvBpBw+/60mwMkDEABEDRAwQMUDEABEDRAwQMUD2J9CnDTvvN/SO2isHIW9v+9z2TY+BlQEiBogYIGKAiAEiBogYIGKAiAHyedcu1QmPnMh7/+DWF/1bVgaIGCBigIgBIgaIGCBigIgBMnLw8NBEaWg/5Lahn/g1Y76f845tXt+PlQEiBogYIGKAiAEiBogYIGKAiAEycvDwlVHxtvt/6LtOCF7bvp+hGfMjm1StDBAxQMQAEQNEDBAxQMQAEQPkTds+H5nWvcv27Oz+t48e+Ge3MkDEABEDRAwQMUDEABEDRAwQMUBWb/s8beL7yP7D0wztbr3/r/fIplkHD8MfEQNEDBAxQMQAEQNEDBAxQMQAWU2gf/PJ2we3B55n/DW290BvX/YKE2iYJQaIGCBigIgBIgaIGCBigKwOHn7XNsuh6dj92xpPmy0OPQZD39eVy1oZIGKAiAEiBogYIGKAiAEiBogYIMe9+nboIOT7z1d+1+B2yP2D7SusDBAxQMQAEQNEDBAxQMQAEQNEDJCRCfQjTttz/K6tzNse2Sg/NJ+2MkDEABEDRAwQMUDEABEDRAyQkaHbI/Om+8c0j/ya7zI06xyahFoZIGKAiAEiBogYIGKAiAEiBogYIJ93HWQ74ZFX8Q6NZk876Pddrzm2MkDEABEDRAwQMUDEABEDRAyQ1bbPb9q4uBjTDJ0Hetosb9uBry3dHlmuWRkgYoCIASIGiBggYoCIASIGiBgg+wcPn7Zf9JHzjBeGRsX3/7eAd+0IvTIvtzJAxAARA0QMEDFAxAARA0QMEDFARl59+67jZoeO8n3XDvKvGWxfYWWAiAEiBogYIGKAiAEiBogYICNDt7/EI6/lvHJLew7cnzl0WSsDRAwQMUDEABEDRAwQMUDEABEDxAT6N7bfsro9n74y2B667ML9r+KdY2WAiAEiBogYIGKAiAEiBogYIGKAjEygDzxTdmF7hnrg5uCJW7rybT6ylXmblQEiBogYIGKAiAEiBogYIGKAfIZOwD3Nu+aAEx4ZY532CDl4GP6IGCBigIgBIgaIGCBigIgBIgbIagINfxUrA0QMEDFAxAARA0QMEDFAxAARA+Q/+FmFKoxLrsoAAAAASUVORK5CYII="},"6f23":function(t,a,e){t.exports=e.p+"img/wechat.b4288f39.jpg"},"8ada":function(t,a,e){},"8c10":function(t,a,e){},"9c3f":function(t,a,e){},"9fe9":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"footer"},[i("div",{staticClass:"w"},[i("div",{staticClass:"contact"},[t._m(0),i("Poptip",{attrs:{trigger:"hover",placement:"top"}},[i("a",[i("i",{staticClass:"iconfont"},[t._v("")])]),i("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[i("img",{attrs:{src:e("663d"),alt:""}})])]),i("Poptip",{attrs:{trigger:"hover",placement:"top"}},[i("a",[i("i",{staticClass:"iconfont"},[t._v("")])]),i("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[i("img",{attrs:{src:e("6f23"),alt:""}})])])],1)])])},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h3",{staticClass:"title"},[t._v("\n        联系我们/\n        "),e("span",[t._v("cantact us")])])}],s=(e("4fcd"),e("2877")),n={},c=Object(s["a"])(n,i,o,!1,null,"042c520c",null);c.options.__file="index.vue";a["a"]=c.exports},b1a8:function(t,a,e){"use strict";var i=e("8c10"),o=e.n(i);o.a},d161:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bg"},[e("home-header"),e("div",{staticClass:"type-page"},[t._m(0),e("el-form",{attrs:{model:t.apiData,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"用户名"}},[e("el-input",{model:{value:t.apiData.u_name,callback:function(a){t.$set(t.apiData,"u_name",a)},expression:"apiData.u_name"}})],1),e("el-form-item",{attrs:{label:"邮箱"}},[e("el-input",{model:{value:t.apiData.u_mail,callback:function(a){t.$set(t.apiData,"u_mail",a)},expression:"apiData.u_mail"}})],1),e("el-form-item",{attrs:{label:"省市"}},[e("province",{staticStyle:{width:"130px"},attrs:{province:t.apiData.u_province,provinces:t.provinceList},on:{change:t.setCityList}}),e("el-select",{staticClass:"selectCity",staticStyle:{width:"130px"},attrs:{placeholder:"请选择城市"},model:{value:t.apiData.u_city,callback:function(a){t.$set(t.apiData,"u_city",a)},expression:"apiData.u_city"}},t._l(t.cityList,function(t){return e("el-option",{key:t,attrs:{value:t,label:t}})}),1)],1),e("el-form-item",{attrs:{label:"学校"}},[e("school",{attrs:{school:t.apiData.u_school,schools:t.schoolList},on:{list:t.getSchoolList,change:t.setSchool}})],1),e("el-form-item",{attrs:{label:"手机号"}},[e("el-input",{model:{value:t.apiData.u_tel,callback:function(a){t.$set(t.apiData,"u_tel",a)},expression:"apiData.u_tel"}})],1),e("el-form-item",{attrs:{label:"微信号"}},[e("el-input",{model:{value:t.apiData.u_wx,callback:function(a){t.$set(t.apiData,"u_wx",a)},expression:"apiData.u_wx"}})],1),e("el-form-item",{attrs:{label:"QQ"}},[e("el-input",{model:{value:t.apiData.u_qq,callback:function(a){t.$set(t.apiData,"u_qq",a)},expression:"apiData.u_qq"}})],1),e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")]),e("el-button",{attrs:{type:"info",plain:""},on:{click:t.cancel}},[t._v("取消")])],1)],1),e("home-footer")],1)},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"edit-title"},[e("h1",[t._v("编辑个人信息")])])}],s=e("cebc"),n=e("e725"),c=e("9fe9"),l=e("2f62"),r=e("26f8"),u=e("e278"),h=e("452b"),f={mixins:[r["a"]],data:function(){return{id:"",apiData:{u_name:"",u_mail:"",u_province:"",u_city:"",u_school:"",u_password:"",u_tel:"",u_wx:"",u_qq:""},schoolList:[]}},components:{HomeHeader:n["a"],HomeFooter:c["a"],School:u["a"],Province:h["a"]},computed:Object(s["a"])({},Object(l["d"])(["userInfo"]),Object(l["b"])([""])),methods:Object(s["a"])({},Object(l["c"])(["setUserInfo"]),{getSchoolList:function(t){this.schoolList=t},setSchool:function(t){this.apiData.u_school=t},cancel:function(){this.$router.push("/user/personal")},save:function(){var t=this;this.$api.post(this.$SERVER.POST_UPUSERINFO,Object(s["a"])({},this.apiData,{id:this.userInfo._id})).then(function(a){return t.thenSubmit("修改")})},thenSubmit:function(t){this.$message.success(t+"成功"),this.$router.push("/user/personal")},getUserInfo:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(a){var e=a.data;e.u_password="",t.apiData=e,console.log(t.apiData),t.getCityList()})}}),created:function(){this.getUserInfo()},watch:{$route:{handler:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(a){t.setUserInfo(a.data)})}}}},p=f,v=(e("2c09"),e("2877")),g=Object(v["a"])(p,i,o,!1,null,"d348a5ee",null);g.options.__file="index.vue";a["default"]=g.exports},e278:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-select",{attrs:{filterable:"",remote:"",placeholder:"学校","remote-method":t.getSchoolList,loading:t.schoolLoading},on:{change:t.setVal},model:{value:t.val,callback:function(a){t.val=a},expression:"val"}},t._l(t.schools,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)},o=[],s={name:"school",props:["school","schools"],data:function(){return{val:"",schoolLoading:!1}},methods:{getSchoolList:function(t){var a=this;""!==t&&(this.schoolLoading=!0,this.$api("".concat(this.$SERVER.GET_SCHOOILIST,"?name=").concat(t)).then(function(t){a.schoolLoading=!1,a.$emit("list",t.data)}))},setVal:function(t){this.$emit("change",t)}},created:function(){},mounted:function(){},watch:{school:function(t){this.val=t}}},n=s,c=e("2877"),l=Object(c["a"])(n,i,o,!1,null,null,null);l.options.__file="index.vue";a["a"]=l.exports},e725:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"header"},[e("div",{staticClass:"w"},[t._m(0),e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"home"},[t._v("首页")])]),e("div",{staticClass:"school"},[e("span",{staticClass:"location iconfont"},[t._v("")]),e("span",[t._v(t._s(t.u_school))]),e("a",{staticClass:"change",on:{click:function(a){t.modal=!0}}},[t._v("[切换]")]),e("Modal",{attrs:{title:"请输入学校名称","class-name":"vertical-center-modal"},model:{value:t.modal,callback:function(a){t.modal=a},expression:"modal"}},[e("school",{attrs:{school:t.changeSchoolName,schools:t.schoolList},on:{list:t.getSchoolList,change:t.setSchool}}),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("button",{staticClass:"ivu-btn ivu-btn-text ivu-btn-large",attrs:{type:"button"},on:{click:t.cancel}},[e("span",[t._v("取消")])]),e("button",{staticClass:"ivu-btn ivu-btn-primary ivu-btn-large",attrs:{type:"button"},on:{click:t.changeSchool}},[e("span",[t._v("确定")])])])],1)],1),e("el-button",{staticClass:"release",attrs:{type:"info"},on:{click:t.handleRelease}},[t._v("发布商品")]),e("Modal",{attrs:{width:"360"},model:{value:t.login,callback:function(a){t.login=a},expression:"login"}},[e("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[e("Icon",{attrs:{type:"ios-information-circle"}}),e("span",[t._v("您还未登录")])],1),e("div",{staticClass:"toLogin"},[e("Button",{attrs:{type:"primary"},on:{click:t.handleLogin}},[t._v("请先登录")])],1),e("div",{attrs:{slot:"footer"},slot:"footer"})]),t.userInfo.u_avatar?e("ul",{staticClass:"login-box"},[e("li",[e("a",{staticClass:"headpic-link",on:{click:t.toUser}},[e("img",{staticClass:"headpic",attrs:{src:t.$SERVER.FILEURL+t.userInfo.u_avatar}})])]),e("li",[e("a",{staticClass:"quit",on:{click:function(a){t.handleQuit()}}},[t._v("退出")])])]):t._e(),t.userInfo.u_avatar?t._e():e("ul",{staticClass:"unLogin"},[e("router-link",{attrs:{to:"/login"}},[e("a",{staticClass:"login"},[t._v("登录")])]),e("router-link",{attrs:{to:"/register"}},[e("a",{staticClass:"register"},[t._v("注册")])])],1),t._m(1)],1)])},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h1",[e("a",{staticClass:"logo",attrs:{href:"javascript:void(0)"}},[t._v("校乐购")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("form",{staticClass:"search"},[e("input",{staticClass:"search-filed",attrs:{type:"text",placeholder:"搜索"}}),e("button",{staticClass:"search-btn",attrs:{type:"submit"}},[t._v("搜索")])])}],s=e("cebc"),n=e("2f62"),c=e("e278"),l={props:["unLogin"],data:function(){return{login:!1,modal:!1,u_school:"",changeSchoolName:"",schoolList:[]}},components:{School:c["a"]},computed:Object(s["a"])({},Object(n["d"])(["userInfo"])),methods:Object(s["a"])({},Object(n["c"])(["setUserInfo"]),{handleQuit:function(){var t=this;this.$api(this.$SERVER.GET_QUIT).then(function(a){console.log(a),t.setUserInfo(),t.$router.push("/")})},toUser:function(){this.$router.push("/user/personal")},handleRelease:function(){this.userInfo.u_avatar?this.$router.push("/release"):this.login=!0},handleLogin:function(){this.login=!1,this.$router.push("/login")},getUserInfo:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(a){t.setUserInfo(a.data),t.u_school=a.data.u_school,t.changeSchoolName=t.u_school})},isLogin:function(){var t=this;this.$api(this.$SERVER.GET_ISLOGIN).then(function(a){return a.state&&t.getUserInfo()})},getSchoolList:function(t){this.schoolList=t},setSchool:function(t){this.changeSchoolName=t},changeSchool:function(){this.u_school=this.changeSchoolName,this.modal=!1},cancel:function(){this.modal=!1}}),created:function(){this.isLogin(),this.getUserInfo()}},r=l,u=(e("5e2f"),e("2877")),h=Object(u["a"])(r,i,o,!1,null,null,null);h.options.__file="index.vue";a["a"]=h.exports}}]);
//# sourceMappingURL=chunk-8a0c63bc.c8e227ec.js.map