(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4462e08"],{"0618":function(t,a,s){},"3ad4":function(t,a,s){},"4fcd":function(t,a,s){"use strict";var i=s("3ad4"),e=s.n(i);e.a},"5e2f":function(t,a,s){"use strict";var i=s("9c3f"),e=s.n(i);e.a},"663d":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAEECAIAAABBat1dAAAEW0lEQVR4nO3dQY7cOBAAwenF/v/L3ktij7RBoSSqHXE1WqOZVoKHMqnPr1+/foCfn3+evgE4hRggYoCIASIGiBggYoCIAfLv4t8+n89t9zFtMVtc/5rbHxyyHpIubml7uvqXPAY/Vgb4nxggYoCIASIGiBggYoCIASIGyGoCvXbaftGhQenETHd92SsfnBi0r33TY2BlgIgBIgaIGCBigIgBIgaIGCD7Q7eFofnXI/Odod2SQ9Ox07ZovutJsDJAxAARA0QMEDFAxAARA0QMEDFARibQ7zI0073/hOCLn8XKABEDRAwQMUDEABEDRAwQMUDEADGB3jc07r2yb/j+g4e/iZUBIgaIGCBigIgBIgaIGCBigIwM3d41wRmaRj1yBvBpBw+/60mwMkDEABEDRAwQMUDEABEDRAwQMUD2J9CnDTvvN/SO2isHIW9v+9z2TY+BlQEiBogYIGKAiAEiBogYIGKAiAHyedcu1QmPnMh7/+DWF/1bVgaIGCBigIgBIgaIGCBigIgBMnLw8NBEaWg/5Lahn/g1Y76f845tXt+PlQEiBogYIGKAiAEiBogYIGKAiAEycvDwlVHxtvt/6LtOCF7bvp+hGfMjm1StDBAxQMQAEQNEDBAxQMQAEQPkTds+H5nWvcv27Oz+t48e+Ge3MkDEABEDRAwQMUDEABEDRAwQMUBWb/s8beL7yP7D0wztbr3/r/fIplkHD8MfEQNEDBAxQMQAEQNEDBAxQMQAWU2gf/PJ2we3B55n/DW290BvX/YKE2iYJQaIGCBigIgBIgaIGCBigKwOHn7XNsuh6dj92xpPmy0OPQZD39eVy1oZIGKAiAEiBogYIGKAiAEiBogYIMe9+nboIOT7z1d+1+B2yP2D7SusDBAxQMQAEQNEDBAxQMQAEQNEDJCRCfQjTttz/K6tzNse2Sg/NJ+2MkDEABEDRAwQMUDEABEDRAyQkaHbI/Om+8c0j/ya7zI06xyahFoZIGKAiAEiBogYIGKAiAEiBogYIJ93HWQ74ZFX8Q6NZk876Pddrzm2MkDEABEDRAwQMUDEABEDRAyQ1bbPb9q4uBjTDJ0Hetosb9uBry3dHlmuWRkgYoCIASIGiBggYoCIASIGiBgg+wcPn7Zf9JHzjBeGRsX3/7eAd+0IvTIvtzJAxAARA0QMEDFAxAARA0QMEDFARl59+67jZoeO8n3XDvKvGWxfYWWAiAEiBogYIGKAiAEiBogYICNDt7/EI6/lvHJLew7cnzl0WSsDRAwQMUDEABEDRAwQMUDEABEDxAT6N7bfsro9n74y2B667ML9r+KdY2WAiAEiBogYIGKAiAEiBogYIGKAjEygDzxTdmF7hnrg5uCJW7rybT6ylXmblQEiBogYIGKAiAEiBogYIGKAfIZOwD3Nu+aAEx4ZY532CDl4GP6IGCBigIgBIgaIGCBigIgBIgbIagINfxUrA0QMEDFAxAARA0QMEDFAxAARA+Q/+FmFKoxLrsoAAAAASUVORK5CYII="},"6f23":function(t,a,s){t.exports=s.p+"img/wechat.b4288f39.jpg"},"7abe":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"bg"},[s("home-header"),s("div",{staticClass:"type-page clearfix"},[s("div",{staticClass:"banner clearfix"},[t.bannerImg.length?s("swiper",{attrs:{options:t.swiperOption}},[t._l(t.bannerImg,function(a,i){return s("swiper-slide",{key:i},[s("img",{staticClass:"swiper-img",attrs:{src:t.$SERVER.FILEURL+a.b_image,alt:"轮播图"}})])}),s("div",{staticClass:"swiper-pagination ",attrs:{slot:"pagination"},slot:"pagination"}),s("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),s("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2):t._e(),t.userInfo.u_avatar?s("div",{staticClass:"login-box"},[s("div",{staticClass:"profile"},[s("img",{staticClass:"profile-photo",attrs:{src:t.$SERVER.FILEURL+t.userInfo.u_avatar,alt:"登录头像"}})]),s("span",{staticClass:"account"},[t._v(t._s(t.userInfo.u_name))]),s("router-link",{staticClass:"personal",attrs:{to:"/user/personal"}},[t._v("个人中心")]),s("div",{staticClass:"quit",on:{click:t.quit}},[t._v("退出")])],1):s("div",{staticClass:"login-box"},[t._m(0),s("router-link",{attrs:{to:"/login"}},[s("el-button",{attrs:{type:"primary"}},[t._v("请登录")])],1),s("router-link",{staticClass:"register",attrs:{to:"/register"}},[t._v("免费注册")])],1)],1),s("Row",[s("Col",{attrs:{span:"8"}},t._l(t.typeList,function(a,i){return s("Menu",{key:i,attrs:{width:"200px",theme:t.theme2},on:{"on-open-change":function(s){t.clickSubmenu(a.t_name)}}},[s("Submenu",{attrs:{name:i}},[s("template",{slot:"title"},[t._v("\n              "+t._s(a.t_name)+"\n            ")]),t._l(a.t_types,function(i,e){return s("MenuItem",{key:e,attrs:{name:e},nativeOn:{click:function(s){t.showCommidity(a.t_name,i)}}},[t._v("\n              "+t._s(i)+"\n            ")])})],2)],1)}),1)],1),s("div",{staticClass:"main"},[s("div",{staticClass:"clearfix"},t._l(t.dataList.list,function(a,i){return s("div",{staticClass:"class-item",class:{"move-up":i===t.show},on:{mouseenter:function(a){t.moveUp(i)},mouseleave:function(a){t.moveDown(i)},click:function(s){t.toCommidityDetail(a._id)}}},[s("div",{staticClass:"class-bg-layer"}),s("div",{staticClass:"class-item-bg"},[s("a",{staticClass:"class-img"},[s("img",{staticClass:"img-responsive",staticStyle:{display:"block"},attrs:{src:t.$SERVER.FILEURL+a.c_images[0],alt:"36码mm猛戳啦！","data-original":"/Uploads/salebuy/2016-01-13/thumb_5695e0a4885a1.jpg"}})]),s("div",{staticClass:"pricehot clearfix"},[s("span",{staticClass:"price"},[t._v("￥ "),s("span",[t._v(t._s(a.c_price/100))])]),t._m(1,!0)]),s("a",{staticClass:"title"},[t._v(t._s(a.c_title))]),s("div",{staticClass:"some  clearfix"},[s("span",{staticClass:"school"},[t._v(t._s(a.u_school))]),s("span",{staticClass:"user"},[t._v(t._s(a.u_name))])])])])}),0),s("div",[t.dataList.count>t.getApiData.pageSize?s("Page",{attrs:{"page-size":t.getApiData.pageSize,total:t.dataList.count,current:t.getApiData.pageIndex,"show-elevator":"","show-total":""},on:{"on-page-size-change":t.handleSizeChange,"on-change":t.handlePage}}):t._e()],1)])],1),s("home-footer")],1)},e=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"profile"},[i("img",{staticClass:"profile-photo",attrs:{src:s("7e65"),alt:"登录头像"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("span",{staticClass:"hot"},[t._v("点击数 "),s("span",[t._v("1639")])])}],n=s("cebc"),o=(s("dfa4"),s("1f80")),c=s("e725"),l=s("9fe9"),r=s("2f62"),u={data:function(){return{isShow:!1,second:null,current:0,secondCurrent:0,show:!1,theme2:"dark",apiData:{u_avatar:"",u_name:""},getApiData:{c_type:"",c_type2:"",pageSize:20,pageIndex:1,c_state:1},dataList:{count:1,list:[]},typeList:[],commidityList:[],bannerImg:[],swiperOption:{loop:!0,autoplay:3e3,autoplayDisableOnInteraction:!1,prevButton:".swiper-button-prev",nextButton:".swiper-button-next",pagination:".swiper-pagination",paginationClickable:!0}}},components:{HomeHeader:c["a"],HomeFooter:l["a"],swiper:o["swiper"],swiperSlide:o["swiperSlide"]},computed:Object(n["a"])({},Object(r["d"])(["userInfo"]),Object(r["b"])([])),methods:Object(n["a"])({},Object(r["c"])(["setUserInfo"]),{moveUp:function(t){this.show=t},moveDown:function(){this.show=!1},quit:function(){var t=this;this.$api(this.$SERVER.GET_QUIT).then(function(a){return t.setUserInfo()})},getUserInfo:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(a){return t.setUserInfo(a.data)})},isLogin:function(){var t=this;this.$api(this.$SERVER.GET_ISLOGIN).then(function(a){return a.state&&t.getUserInfo()})},getTypeList:function(){var t=this;this.$api(this.$SERVER.GET_TYPELIST).then(function(a){t.typeList=a.data.list})},getCommidity:function(){var t=this;this.$api(this.$SERVER.GET_COMMODITYLIST,{params:this.getApiData}).then(function(a){t.dataList=a.data})},showCommidity:function(t,a){var s=this;this.getApiData.c_type=t,this.getApiData.c_type2=a,this.$api(this.$SERVER.GET_COMMODITYLIST,{params:this.getApiData}).then(function(t){s.dataList=t.data})},toCommidityDetail:function(t){var a=this.$router.resolve({name:"detail",params:{id:t}});window.open(a.href,"_blank")},handleSizeChange:function(t){this.getApiData.pageSize=t,console.log(this.getApiData.pageSize),this.getCommidity()},handlePage:function(t){this.getApiData.pageIndex=t,this.getCommidity()},getBanner:function(){var t=this;this.$api(this.$SERVER.GET_BANNERLIST,{params:{b_state:1}}).then(function(a){t.bannerImg=a.data.list,console.log(t.bannerImg)})},clickSubmenu:function(t){var a=this;this.$api(this.$SERVER.GET_COMMODITYLIST,{params:{c_type:t,c_state:1}}).then(function(t){a.dataList=t.data})}}),created:function(){this.getTypeList(),this.getCommidity(),this.getBanner()},mounted:function(){},watch:{$route:{handler:function(){this.isLogin()},immediate:!0}}},h=u,g=(s("d644"),s("2877")),p=Object(g["a"])(h,i,e,!1,null,"5bc4e165",null);p.options.__file="index.vue";a["default"]=p.exports},"7e65":function(t,a,s){t.exports=s.p+"img/profile.8a549391.jpg"},"9c3f":function(t,a,s){},"9fe9":function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"footer"},[i("div",{staticClass:"w"},[i("div",{staticClass:"contact"},[t._m(0),i("Poptip",{attrs:{trigger:"hover",placement:"top"}},[i("a",[i("i",{staticClass:"iconfont"},[t._v("")])]),i("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[i("img",{attrs:{src:s("663d"),alt:""}})])]),i("Poptip",{attrs:{trigger:"hover",placement:"top"}},[i("a",[i("i",{staticClass:"iconfont"},[t._v("")])]),i("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[i("img",{attrs:{src:s("6f23"),alt:""}})])])],1)])])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h3",{staticClass:"title"},[t._v("\n        联系我们/\n        "),s("span",[t._v("cantact us")])])}],n=(s("4fcd"),s("2877")),o={},c=Object(n["a"])(o,i,e,!1,null,"042c520c",null);c.options.__file="index.vue";a["a"]=c.exports},d644:function(t,a,s){"use strict";var i=s("0618"),e=s.n(i);e.a},e278:function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("el-select",{attrs:{filterable:"",remote:"",placeholder:"学校","remote-method":t.getSchoolList,loading:t.schoolLoading},on:{change:t.setVal},model:{value:t.val,callback:function(a){t.val=a},expression:"val"}},t._l(t.schools,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)},e=[],n={name:"school",props:["school","schools"],data:function(){return{val:"",schoolLoading:!1}},methods:{getSchoolList:function(t){var a=this;""!==t&&(this.schoolLoading=!0,this.$api("".concat(this.$SERVER.GET_SCHOOILIST,"?name=").concat(t)).then(function(t){a.schoolLoading=!1,a.$emit("list",t.data)}))},setVal:function(t){this.$emit("change",t)}},created:function(){},mounted:function(){},watch:{school:function(t){this.val=t}}},o=n,c=s("2877"),l=Object(c["a"])(o,i,e,!1,null,null,null);l.options.__file="index.vue";a["a"]=l.exports},e725:function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header"},[s("div",{staticClass:"w"},[t._m(0),s("router-link",{attrs:{to:"/"}},[s("div",{staticClass:"home"},[t._v("首页")])]),s("div",{staticClass:"school"},[s("span",{staticClass:"location iconfont"},[t._v("")]),s("span",[t._v(t._s(t.u_school))]),s("a",{staticClass:"change",on:{click:function(a){t.modal=!0}}},[t._v("[切换]")]),s("Modal",{attrs:{title:"请输入学校名称","class-name":"vertical-center-modal"},model:{value:t.modal,callback:function(a){t.modal=a},expression:"modal"}},[s("school",{attrs:{school:t.changeSchoolName,schools:t.schoolList},on:{list:t.getSchoolList,change:t.setSchool}}),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"ivu-btn ivu-btn-text ivu-btn-large",attrs:{type:"button"},on:{click:t.cancel}},[s("span",[t._v("取消")])]),s("button",{staticClass:"ivu-btn ivu-btn-primary ivu-btn-large",attrs:{type:"button"},on:{click:t.changeSchool}},[s("span",[t._v("确定")])])])],1)],1),s("el-button",{staticClass:"release",attrs:{type:"info"},on:{click:t.handleRelease}},[t._v("发布商品")]),s("Modal",{attrs:{width:"360"},model:{value:t.login,callback:function(a){t.login=a},expression:"login"}},[s("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[s("Icon",{attrs:{type:"ios-information-circle"}}),s("span",[t._v("您还未登录")])],1),s("div",{staticClass:"toLogin"},[s("Button",{attrs:{type:"primary"},on:{click:t.handleLogin}},[t._v("请先登录")])],1),s("div",{attrs:{slot:"footer"},slot:"footer"})]),t.userInfo.u_avatar?s("ul",{staticClass:"login-box"},[s("li",[s("a",{staticClass:"headpic-link",on:{click:t.toUser}},[s("img",{staticClass:"headpic",attrs:{src:t.$SERVER.FILEURL+t.userInfo.u_avatar}})])]),s("li",[s("a",{staticClass:"quit",on:{click:function(a){t.handleQuit()}}},[t._v("退出")])])]):t._e(),t.userInfo.u_avatar?t._e():s("ul",{staticClass:"unLogin"},[s("router-link",{attrs:{to:"/login"}},[s("a",{staticClass:"login"},[t._v("登录")])]),s("router-link",{attrs:{to:"/register"}},[s("a",{staticClass:"register"},[t._v("注册")])])],1),t._m(1)],1)])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h1",[s("a",{staticClass:"logo",attrs:{href:"javascript:void(0)"}},[t._v("校乐购")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("form",{staticClass:"search"},[s("input",{staticClass:"search-filed",attrs:{type:"text",placeholder:"搜索"}}),s("button",{staticClass:"search-btn",attrs:{type:"submit"}},[t._v("搜索")])])}],n=s("cebc"),o=s("2f62"),c=s("e278"),l={props:["unLogin"],data:function(){return{login:!1,modal:!1,u_school:"",changeSchoolName:"",schoolList:[]}},components:{School:c["a"]},computed:Object(n["a"])({},Object(o["d"])(["userInfo"])),methods:Object(n["a"])({},Object(o["c"])(["setUserInfo"]),{handleQuit:function(){var t=this;this.$api(this.$SERVER.GET_QUIT).then(function(a){console.log(a),t.setUserInfo(),t.$router.push("/")})},toUser:function(){this.$router.push("/user/personal")},handleRelease:function(){this.userInfo.u_avatar?this.$router.push("/release"):this.login=!0},handleLogin:function(){this.login=!1,this.$router.push("/login")},getUserInfo:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(a){t.setUserInfo(a.data),t.u_school=a.data.u_school,t.changeSchoolName=t.u_school})},isLogin:function(){var t=this;this.$api(this.$SERVER.GET_ISLOGIN).then(function(a){return a.state&&t.getUserInfo()})},getSchoolList:function(t){this.schoolList=t},setSchool:function(t){this.changeSchoolName=t},changeSchool:function(){this.u_school=this.changeSchoolName,this.modal=!1},cancel:function(){this.modal=!1}}),created:function(){this.isLogin(),this.getUserInfo()}},r=l,u=(s("5e2f"),s("2877")),h=Object(u["a"])(r,i,e,!1,null,null,null);h.options.__file="index.vue";a["a"]=h.exports}}]);
//# sourceMappingURL=chunk-a4462e08.0382ba6a.js.map