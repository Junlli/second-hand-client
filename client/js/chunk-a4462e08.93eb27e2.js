(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4462e08"],{"0618":function(t,s,a){},"3ad4":function(t,s,a){},"4fcd":function(t,s,a){"use strict";var i=a("3ad4"),e=a.n(i);e.a},"5e2f":function(t,s,a){"use strict";var i=a("9c3f"),e=a.n(i);e.a},"663d":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAEECAIAAABBat1dAAAEW0lEQVR4nO3dQY7cOBAAwenF/v/L3ktij7RBoSSqHXE1WqOZVoKHMqnPr1+/foCfn3+evgE4hRggYoCIASIGiBggYoCIAfLv4t8+n89t9zFtMVtc/5rbHxyyHpIubml7uvqXPAY/Vgb4nxggYoCIASIGiBggYoCIASIGyGoCvXbaftGhQenETHd92SsfnBi0r33TY2BlgIgBIgaIGCBigIgBIgaIGCD7Q7eFofnXI/Odod2SQ9Ox07ZovutJsDJAxAARA0QMEDFAxAARA0QMEDFARibQ7zI0073/hOCLn8XKABEDRAwQMUDEABEDRAwQMUDEADGB3jc07r2yb/j+g4e/iZUBIgaIGCBigIgBIgaIGCBigIwM3d41wRmaRj1yBvBpBw+/60mwMkDEABEDRAwQMUDEABEDRAwQMUD2J9CnDTvvN/SO2isHIW9v+9z2TY+BlQEiBogYIGKAiAEiBogYIGKAiAHyedcu1QmPnMh7/+DWF/1bVgaIGCBigIgBIgaIGCBigIgBMnLw8NBEaWg/5Lahn/g1Y76f845tXt+PlQEiBogYIGKAiAEiBogYIGKAiAEycvDwlVHxtvt/6LtOCF7bvp+hGfMjm1StDBAxQMQAEQNEDBAxQMQAEQPkTds+H5nWvcv27Oz+t48e+Ge3MkDEABEDRAwQMUDEABEDRAwQMUBWb/s8beL7yP7D0wztbr3/r/fIplkHD8MfEQNEDBAxQMQAEQNEDBAxQMQAWU2gf/PJ2we3B55n/DW290BvX/YKE2iYJQaIGCBigIgBIgaIGCBigKwOHn7XNsuh6dj92xpPmy0OPQZD39eVy1oZIGKAiAEiBogYIGKAiAEiBogYIMe9+nboIOT7z1d+1+B2yP2D7SusDBAxQMQAEQNEDBAxQMQAEQNEDJCRCfQjTttz/K6tzNse2Sg/NJ+2MkDEABEDRAwQMUDEABEDRAyQkaHbI/Om+8c0j/ya7zI06xyahFoZIGKAiAEiBogYIGKAiAEiBogYIJ93HWQ74ZFX8Q6NZk876Pddrzm2MkDEABEDRAwQMUDEABEDRAyQ1bbPb9q4uBjTDJ0Hetosb9uBry3dHlmuWRkgYoCIASIGiBggYoCIASIGiBgg+wcPn7Zf9JHzjBeGRsX3/7eAd+0IvTIvtzJAxAARA0QMEDFAxAARA0QMEDFARl59+67jZoeO8n3XDvKvGWxfYWWAiAEiBogYIGKAiAEiBogYICNDt7/EI6/lvHJLew7cnzl0WSsDRAwQMUDEABEDRAwQMUDEABEDxAT6N7bfsro9n74y2B667ML9r+KdY2WAiAEiBogYIGKAiAEiBogYIGKAjEygDzxTdmF7hnrg5uCJW7rybT6ylXmblQEiBogYIGKAiAEiBogYIGKAfIZOwD3Nu+aAEx4ZY532CDl4GP6IGCBigIgBIgaIGCBigIgBIgbIagINfxUrA0QMEDFAxAARA0QMEDFAxAARA+Q/+FmFKoxLrsoAAAAASUVORK5CYII="},"6f23":function(t,s,a){t.exports=a.p+"img/wechat.b4288f39.jpg"},"7abe":function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"bg"},[a("home-header"),a("div",{staticClass:"type-page clearfix"},[a("div",{staticClass:"banner clearfix"},[t.bannerImg.length?a("swiper",{attrs:{options:t.swiperOption}},[t._l(t.bannerImg,function(s,i){return a("swiper-slide",{key:i},[a("img",{staticClass:"swiper-img",attrs:{src:t.$SERVER.FILEURL+s.b_image,alt:"轮播图"}})])}),a("div",{staticClass:"swiper-pagination ",attrs:{slot:"pagination"},slot:"pagination"}),a("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),a("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2):t._e(),t.userInfo.u_avatar?a("div",{staticClass:"login-box"},[a("div",{staticClass:"profile"},[a("img",{staticClass:"profile-photo",attrs:{src:t.$SERVER.FILEURL+t.userInfo.u_avatar,alt:"登录头像"}})]),a("span",{staticClass:"account"},[t._v(t._s(t.userInfo.u_name))]),a("router-link",{staticClass:"personal",attrs:{to:"/user/personal"}},[t._v("个人中心")]),a("div",{staticClass:"quit",on:{click:t.quit}},[t._v("退出")])],1):a("div",{staticClass:"login-box"},[t._m(0),a("router-link",{attrs:{to:"/login"}},[a("el-button",{attrs:{type:"primary"}},[t._v("请登录")])],1),a("router-link",{staticClass:"register",attrs:{to:"/register"}},[t._v("免费注册")])],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},t._l(t.typeList,function(s,i){return a("Menu",{key:i,attrs:{width:"200px",theme:t.theme2},on:{"on-open-change":function(a){t.clickSubmenu(s.t_name)}}},[a("Submenu",{attrs:{name:i}},[a("template",{slot:"title"},[t._v("\n              "+t._s(s.t_name)+"\n            ")]),t._l(s.t_types,function(i,e){return a("MenuItem",{key:e,attrs:{name:e},nativeOn:{click:function(a){t.showCommidity(s.t_name,i)}}},[t._v("\n              "+t._s(i)+"\n            ")])})],2)],1)}),1)],1),a("div",{staticClass:"main"},[a("div",{staticClass:"clearfix"},t._l(t.dataList.list,function(s,i){return a("div",{staticClass:"class-item",class:{"move-up":i===t.show},on:{mouseenter:function(s){t.moveUp(i)},mouseleave:function(s){t.moveDown(i)},click:function(a){t.toCommidityDetail(s._id)}}},[a("div",{staticClass:"class-bg-layer"}),a("div",{staticClass:"class-item-bg"},[a("a",{staticClass:"class-img"},[a("img",{staticClass:"img-responsive",staticStyle:{display:"block"},attrs:{src:t.$SERVER.FILEURL+s.c_images[0],alt:"36码mm猛戳啦！","data-original":"/Uploads/salebuy/2016-01-13/thumb_5695e0a4885a1.jpg"}})]),a("div",{staticClass:"pricehot clearfix"},[a("span",{staticClass:"price"},[t._v("￥ "),a("span",[t._v(t._s(s.c_price/100))])]),t._m(1,!0)]),a("a",{staticClass:"title"},[t._v(t._s(s.c_title))]),a("div",{staticClass:"some  clearfix"},[a("span",{staticClass:"school"},[t._v(t._s(s.u_school))]),a("span",{staticClass:"user"},[t._v(t._s(s.u_name))])])])])}),0),a("div",[t.dataList.count>t.getApiData.pageSize?a("Page",{attrs:{"page-size":t.getApiData.pageSize,total:t.dataList.count,current:t.getApiData.pageIndex,"show-elevator":"","show-total":""},on:{"on-page-size-change":t.handleSizeChange,"on-change":t.handlePage}}):t._e()],1)])],1),a("home-footer")],1)},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"profile"},[i("img",{staticClass:"profile-photo",attrs:{src:a("7e65"),alt:"登录头像"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("span",{staticClass:"hot"},[t._v("点击数 "),a("span",[t._v("1639")])])}],o=a("cebc"),n=(a("dfa4"),a("1f80")),c=a("e725"),l=a("9fe9"),r=a("2f62"),u={data:function(){return{isShow:!1,second:null,current:0,secondCurrent:0,show:!1,theme2:"dark",apiData:{u_avatar:"",u_name:""},getApiData:{c_type:"",c_type2:"",pageSize:20,pageIndex:1,c_state:1,u_school:""},dataList:{count:1,list:[]},typeList:[],commidityList:[],bannerImg:[],swiperOption:{loop:!0,autoplay:3e3,autoplayDisableOnInteraction:!1,prevButton:".swiper-button-prev",nextButton:".swiper-button-next",pagination:".swiper-pagination",paginationClickable:!0}}},components:{HomeHeader:c["a"],HomeFooter:l["a"],swiper:n["swiper"],swiperSlide:n["swiperSlide"]},computed:Object(o["a"])({},Object(r["d"])(["userInfo","u_school"]),Object(r["b"])(["updateSchool"])),methods:Object(o["a"])({},Object(r["c"])(["setUserInfo"]),{moveUp:function(t){this.show=t},moveDown:function(){this.show=!1},quit:function(){var t=this;this.$api(this.$SERVER.GET_QUIT).then(function(s){return t.setUserInfo()})},getUserInfo:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(s){return t.setUserInfo(s.data)})},isLogin:function(){var t=this;this.$api(this.$SERVER.GET_ISLOGIN).then(function(s){return s.state&&t.getUserInfo()})},getTypeList:function(){var t=this;this.$api(this.$SERVER.GET_TYPELIST).then(function(s){t.typeList=s.data.list})},getCommodity:function(){var t=this;this.getApiData.u_school=this.u_school,this.$api(this.$SERVER.GET_COMMODITYLIST,{params:this.getApiData}).then(function(s){t.dataList=s.data})},showCommidity:function(t,s){var a=this;this.getApiData.c_type=t,this.getApiData.c_type2=s,this.$api(this.$SERVER.GET_COMMODITYLIST,{params:this.getApiData}).then(function(t){a.dataList=t.data})},toCommidityDetail:function(t){var s=this.$router.resolve({name:"detail",params:{id:t}});window.open(s.href,"_blank")},handleSizeChange:function(t){this.getApiData.pageSize=t,console.log(this.getApiData.pageSize),this.getCommidity()},handlePage:function(t){this.getApiData.pageIndex=t,this.getCommidity()},getBanner:function(){var t=this;this.$api(this.$SERVER.GET_BANNERLIST,{params:{b_state:1}}).then(function(s){t.bannerImg=s.data.list,console.log(t.bannerImg)})},clickSubmenu:function(t){var s=this;this.$api(this.$SERVER.GET_COMMODITYLIST,{params:{c_type:t,c_state:1}}).then(function(t){s.dataList=t.data})}}),created:function(){this.getTypeList(),this.getCommodity(),this.getBanner()},mounted:function(){},watch:{$route:{handler:function(){this.isLogin()},immediate:!0},updateSchool:function(t){t&&this.getCommodity()}}},h=u,g=(a("d644"),a("2877")),p=Object(g["a"])(h,i,e,!1,null,"5bc4e165",null);p.options.__file="index.vue";s["default"]=p.exports},"7e65":function(t,s,a){t.exports=a.p+"img/profile.8a549391.jpg"},"9c3f":function(t,s,a){},"9fe9":function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"footer"},[i("div",{staticClass:"w"},[i("div",{staticClass:"contact"},[t._m(0),i("Poptip",{attrs:{trigger:"hover",placement:"top"}},[i("a",[i("i",{staticClass:"iconfont"},[t._v("")])]),i("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[i("img",{attrs:{src:a("663d"),alt:""}})])]),i("Poptip",{attrs:{trigger:"hover",placement:"top"}},[i("a",[i("i",{staticClass:"iconfont"},[t._v("")])]),i("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[i("img",{attrs:{src:a("6f23"),alt:""}})])])],1)])])},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("h3",{staticClass:"title"},[t._v("\n        联系我们/\n        "),a("span",[t._v("cantact us")])])}],o=(a("4fcd"),a("2877")),n={},c=Object(o["a"])(n,i,e,!1,null,"042c520c",null);c.options.__file="index.vue";s["a"]=c.exports},d644:function(t,s,a){"use strict";var i=a("0618"),e=a.n(i);e.a},e278:function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("el-select",{attrs:{filterable:"",remote:"",placeholder:"学校","remote-method":t.getSchoolList,loading:t.schoolLoading},on:{change:t.setVal},model:{value:t.val,callback:function(s){t.val=s},expression:"val"}},t._l(t.schools,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)},e=[],o={name:"school",props:["school","schools"],data:function(){return{val:"",schoolLoading:!1}},methods:{getSchoolList:function(t){var s=this;""!==t&&(this.schoolLoading=!0,this.$api("".concat(this.$SERVER.GET_SCHOOILIST,"?name=").concat(t)).then(function(t){s.schoolLoading=!1,s.$emit("list",t.data)}))},setVal:function(t){this.$emit("change",t)}},created:function(){},mounted:function(){},watch:{school:function(t){this.val=t}}},n=o,c=a("2877"),l=Object(c["a"])(n,i,e,!1,null,null,null);l.options.__file="index.vue";s["a"]=l.exports},e725:function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"header"},[a("div",{staticClass:"w"},[t._m(0),a("router-link",{attrs:{to:"/"}},[a("div",{staticClass:"home"},[t._v("首页")])]),a("div",{staticClass:"school"},[a("span",{staticClass:"location iconfont"},[t._v("")]),a("span",[t._v(t._s(t.u_school))]),a("a",{staticClass:"change",on:{click:function(s){t.modal=!0}}},[t._v("[切换]")]),a("Modal",{attrs:{title:"请输入学校名称","class-name":"vertical-center-modal"},model:{value:t.modal,callback:function(s){t.modal=s},expression:"modal"}},[a("school",{attrs:{school:t.changeSchoolName,schools:t.schoolList},on:{list:t.getSchoolList,change:t.setSchool}}),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"ivu-btn ivu-btn-text ivu-btn-large",attrs:{type:"button"},on:{click:t.cancel}},[a("span",[t._v("取消")])]),a("button",{staticClass:"ivu-btn ivu-btn-primary ivu-btn-large",attrs:{type:"button"},on:{click:t.changeSchool}},[a("span",[t._v("确定")])])])],1)],1),a("el-button",{staticClass:"release",attrs:{type:"info"},on:{click:t.handleRelease}},[t._v("发布商品")]),a("Modal",{attrs:{width:"360"},model:{value:t.login,callback:function(s){t.login=s},expression:"login"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),a("span",[t._v("您还未登录")])],1),a("div",{staticClass:"toLogin"},[a("Button",{attrs:{type:"primary"},on:{click:t.handleLogin}},[t._v("请先登录")])],1),a("div",{attrs:{slot:"footer"},slot:"footer"})]),t.userInfo.u_avatar?a("ul",{staticClass:"login-box"},[a("li",[a("a",{staticClass:"headpic-link",on:{click:t.toUser}},[a("img",{staticClass:"headpic",attrs:{src:t.$SERVER.FILEURL+t.userInfo.u_avatar}})])]),a("li",[a("a",{staticClass:"quit",on:{click:function(s){t.handleQuit()}}},[t._v("退出")])])]):t._e(),t.userInfo.u_avatar?t._e():a("ul",{staticClass:"unLogin"},[a("router-link",{attrs:{to:"/login"}},[a("a",{staticClass:"login"},[t._v("登录")])]),a("router-link",{attrs:{to:"/register"}},[a("a",{staticClass:"register"},[t._v("注册")])])],1),t._m(1)],1)])},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("h1",[a("a",{staticClass:"logo",attrs:{href:"javascript:void(0)"}},[t._v("校乐购")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("form",{staticClass:"search"},[a("input",{staticClass:"search-filed",attrs:{type:"text",placeholder:"搜索"}}),a("button",{staticClass:"search-btn",attrs:{type:"submit"}},[t._v("搜索")])])}],o=a("cebc"),n=a("2f62"),c=a("e278"),l={props:["unLogin"],data:function(){return{login:!1,modal:!1,changeSchoolName:"",schoolList:[]}},components:{School:c["a"]},computed:Object(o["a"])({},Object(n["d"])(["userInfo","u_school"])),methods:Object(o["a"])({},Object(n["c"])(["setUserInfo","setCommoditySchool"]),{handleQuit:function(){var t=this;this.$api(this.$SERVER.GET_QUIT).then(function(s){t.setUserInfo(),t.$router.push("/")})},toUser:function(){this.$router.push("/user/personal")},handleRelease:function(){this.userInfo.u_avatar?this.$router.push("/release"):this.login=!0},handleLogin:function(){this.login=!1,this.$router.push("/login")},getUserInfo:function(){var t=this;this.$api(this.$SERVER.GET_CURRENTUSERINFO).then(function(s){t.setUserInfo(s.data),""===t.u_school&&t.setCommoditySchool(s.data.u_school),t.changeSchoolName=t.u_school})},isLogin:function(){var t=this;this.$api(this.$SERVER.GET_ISLOGIN).then(function(s){return s.state&&t.getUserInfo()})},getSchoolList:function(t){this.schoolList=t},setSchool:function(t){this.changeSchoolName=t,console.log(this.changeSchoolName)},changeSchool:function(){this.setCommoditySchool(this.changeSchoolName),this.modal=!1},cancel:function(){this.modal=!1}}),created:function(){this.isLogin(),this.getUserInfo()}},r=l,u=(a("5e2f"),a("2877")),h=Object(u["a"])(r,i,e,!1,null,null,null);h.options.__file="index.vue";s["a"]=h.exports}}]);
//# sourceMappingURL=chunk-a4462e08.93eb27e2.js.map